<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ts 笔记 | 一诺滚雪球</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.46349ab2.css" as="style"><link rel="preload" href="/assets/js/app.43a96342.js" as="script"><link rel="preload" href="/assets/js/2.caec08f3.js" as="script"><link rel="preload" href="/assets/js/21.a0c52622.js" as="script"><link rel="prefetch" href="/assets/js/10.3120cf26.js"><link rel="prefetch" href="/assets/js/11.770c1d82.js"><link rel="prefetch" href="/assets/js/12.a9d6d59a.js"><link rel="prefetch" href="/assets/js/13.63a452a4.js"><link rel="prefetch" href="/assets/js/14.467843cb.js"><link rel="prefetch" href="/assets/js/15.b431e814.js"><link rel="prefetch" href="/assets/js/16.4ee3cc07.js"><link rel="prefetch" href="/assets/js/17.1ec13350.js"><link rel="prefetch" href="/assets/js/18.a744b7f2.js"><link rel="prefetch" href="/assets/js/19.7da5d4b7.js"><link rel="prefetch" href="/assets/js/20.a1fb0ca8.js"><link rel="prefetch" href="/assets/js/22.2f2c13b6.js"><link rel="prefetch" href="/assets/js/23.f67ba4f5.js"><link rel="prefetch" href="/assets/js/24.a272da6e.js"><link rel="prefetch" href="/assets/js/25.69a7eab3.js"><link rel="prefetch" href="/assets/js/26.a3c2ed3c.js"><link rel="prefetch" href="/assets/js/27.7f61ce4f.js"><link rel="prefetch" href="/assets/js/28.beff7c28.js"><link rel="prefetch" href="/assets/js/29.4655c02a.js"><link rel="prefetch" href="/assets/js/3.cf342b2d.js"><link rel="prefetch" href="/assets/js/30.3c564230.js"><link rel="prefetch" href="/assets/js/31.6cdbdb2e.js"><link rel="prefetch" href="/assets/js/32.966a6944.js"><link rel="prefetch" href="/assets/js/33.1613e7a0.js"><link rel="prefetch" href="/assets/js/34.f68797f9.js"><link rel="prefetch" href="/assets/js/35.be10b48d.js"><link rel="prefetch" href="/assets/js/36.66ff554c.js"><link rel="prefetch" href="/assets/js/37.40a5acd7.js"><link rel="prefetch" href="/assets/js/38.3f2830d5.js"><link rel="prefetch" href="/assets/js/39.1401fee4.js"><link rel="prefetch" href="/assets/js/4.358d30fa.js"><link rel="prefetch" href="/assets/js/40.f3379166.js"><link rel="prefetch" href="/assets/js/41.b61aa2fc.js"><link rel="prefetch" href="/assets/js/42.83ebd440.js"><link rel="prefetch" href="/assets/js/43.528a5f3c.js"><link rel="prefetch" href="/assets/js/44.26c3921b.js"><link rel="prefetch" href="/assets/js/45.3a0dea49.js"><link rel="prefetch" href="/assets/js/46.2b7e9a68.js"><link rel="prefetch" href="/assets/js/47.9fe1fd00.js"><link rel="prefetch" href="/assets/js/48.ed30c2ce.js"><link rel="prefetch" href="/assets/js/49.a5b144db.js"><link rel="prefetch" href="/assets/js/5.112b6723.js"><link rel="prefetch" href="/assets/js/50.f2c84025.js"><link rel="prefetch" href="/assets/js/51.896610a7.js"><link rel="prefetch" href="/assets/js/52.250ba8ab.js"><link rel="prefetch" href="/assets/js/53.7bc68250.js"><link rel="prefetch" href="/assets/js/54.4ff56547.js"><link rel="prefetch" href="/assets/js/55.154c4a77.js"><link rel="prefetch" href="/assets/js/56.e6e78d42.js"><link rel="prefetch" href="/assets/js/57.e660102d.js"><link rel="prefetch" href="/assets/js/58.3409be75.js"><link rel="prefetch" href="/assets/js/59.a7b68c15.js"><link rel="prefetch" href="/assets/js/6.2d5a6e49.js"><link rel="prefetch" href="/assets/js/60.57746832.js"><link rel="prefetch" href="/assets/js/61.2b67f813.js"><link rel="prefetch" href="/assets/js/62.dd5b02ea.js"><link rel="prefetch" href="/assets/js/63.fb67eb76.js"><link rel="prefetch" href="/assets/js/64.45a735ad.js"><link rel="prefetch" href="/assets/js/65.dfe2ecf6.js"><link rel="prefetch" href="/assets/js/66.38e5b2eb.js"><link rel="prefetch" href="/assets/js/67.efc04b1d.js"><link rel="prefetch" href="/assets/js/68.58a45080.js"><link rel="prefetch" href="/assets/js/69.924fa8e0.js"><link rel="prefetch" href="/assets/js/7.1aace4e4.js"><link rel="prefetch" href="/assets/js/70.54fcaee4.js"><link rel="prefetch" href="/assets/js/71.5cd79c17.js"><link rel="prefetch" href="/assets/js/8.451e6854.js"><link rel="prefetch" href="/assets/js/9.b558e699.js">
    <link rel="stylesheet" href="/assets/css/0.styles.46349ab2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">一诺滚雪球</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端三件套" class="dropdown-title"><span class="title">前端三件套</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端三件套" class="mobile-dropdown-title"><span class="title">前端三件套</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link router-link-active">
  JS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          部署
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/deploy/" class="nav-link">
  CICD
</a></li><li class="dropdown-subitem"><a href="/engineer/vuepress/" class="nav-link">
  vuepress
</a></li><li class="dropdown-subitem"><a href="/engineer/vitepress/" class="nav-link">
  vitepress
</a></li></ul></li><li class="dropdown-item"><h4>
          构建工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/build/webpack/base/" class="nav-link">
  webpack
</a></li><li class="dropdown-subitem"><a href="/engineer/build/rollup/" class="nav-link">
  rollup
</a></li><li class="dropdown-subitem"><a href="/engineer/build/vite/" class="nav-link">
  vite
</a></li></ul></li><li class="dropdown-item"><h4>
          git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/git/cmd/" class="nav-link">
  常用命令
</a></li><li class="dropdown-subitem"><a href="/engineer/git/gitflow/" class="nav-link">
  工作流
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/system/" class="nav-link">
  后台管理系统
</a></li><li class="dropdown-item"><!----> <a href="/project/h5/" class="nav-link">
  h5
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶" class="mobile-dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          测试
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/test/" class="nav-link">
  单元测试
</a></li></ul></li><li class="dropdown-item"><h4>
          数据结构算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/algorithm/" class="nav-link">
  算法
</a></li></ul></li><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/design/" class="nav-link">
  设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/refactoring/" class="nav-link">
  重构
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/network/http.html" class="nav-link">
  http状态码
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><span class="title">书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍" class="mobile-dropdown-title"><span class="title">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/" class="nav-link">
  书籍清单
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/f5l5y5/vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端三件套" class="dropdown-title"><span class="title">前端三件套</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端三件套" class="mobile-dropdown-title"><span class="title">前端三件套</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/base/html/" class="nav-link">
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/base/css/" class="nav-link">
  CSS
</a></li><li class="dropdown-item"><!----> <a href="/base/js/" class="nav-link router-link-active">
  JS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><span class="title">框架</span> <span class="arrow down"></span></button> <button type="button" aria-label="框架" class="mobile-dropdown-title"><span class="title">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/frame/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/frame/react/" class="nav-link">
  React
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程化" class="dropdown-title"><span class="title">工程化</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程化" class="mobile-dropdown-title"><span class="title">工程化</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          部署
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/deploy/" class="nav-link">
  CICD
</a></li><li class="dropdown-subitem"><a href="/engineer/vuepress/" class="nav-link">
  vuepress
</a></li><li class="dropdown-subitem"><a href="/engineer/vitepress/" class="nav-link">
  vitepress
</a></li></ul></li><li class="dropdown-item"><h4>
          构建工具
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/build/webpack/base/" class="nav-link">
  webpack
</a></li><li class="dropdown-subitem"><a href="/engineer/build/rollup/" class="nav-link">
  rollup
</a></li><li class="dropdown-subitem"><a href="/engineer/build/vite/" class="nav-link">
  vite
</a></li></ul></li><li class="dropdown-item"><h4>
          git
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/engineer/git/cmd/" class="nav-link">
  常用命令
</a></li><li class="dropdown-subitem"><a href="/engineer/git/gitflow/" class="nav-link">
  工作流
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><span class="title">项目</span> <span class="arrow down"></span></button> <button type="button" aria-label="项目" class="mobile-dropdown-title"><span class="title">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/system/" class="nav-link">
  后台管理系统
</a></li><li class="dropdown-item"><!----> <a href="/project/h5/" class="nav-link">
  h5
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="进阶" class="dropdown-title"><span class="title">进阶</span> <span class="arrow down"></span></button> <button type="button" aria-label="进阶" class="mobile-dropdown-title"><span class="title">进阶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          测试
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/test/" class="nav-link">
  单元测试
</a></li></ul></li><li class="dropdown-item"><h4>
          数据结构算法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/algorithm/" class="nav-link">
  算法
</a></li></ul></li><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/design/" class="nav-link">
  设计模式
</a></li></ul></li><li class="dropdown-item"><h4>
          
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/refactoring/" class="nav-link">
  重构
</a></li></ul></li><li class="dropdown-item"><h4>
          网络
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/advanced/network/http.html" class="nav-link">
  http状态码
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="书籍" class="dropdown-title"><span class="title">书籍</span> <span class="arrow down"></span></button> <button type="button" aria-label="书籍" class="mobile-dropdown-title"><span class="title">书籍</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/books/" class="nav-link">
  书籍清单
</a></li></ul></div></div><div class="nav-item"><a href="https://github.com/f5l5y5/vuepress" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>JS</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/base/js/" aria-current="page" class="sidebar-link">介绍</a></li><li><a href="/base/js/es6.html" class="sidebar-link">ES6</a></li><li><a href="/base/js/ts.html" aria-current="page" class="active sidebar-link">ts学习</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/ts.html#ts-笔记" class="sidebar-link">ts 笔记</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_1-搭建-ts-坏境" class="sidebar-link">1.搭建 ts 坏境</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-基本类型" class="sidebar-link">2.基本类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-1-number-string-boolean-symbol-unknow-any-never-void" class="sidebar-link">2.1 number string boolean symbol unknow any never void</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#symbol-类型" class="sidebar-link">symbol 类型</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#reflect-proxy" class="sidebar-link">Reflect proxy</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-2-object-object-区别" class="sidebar-link">2.2 Object object {}区别</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-3-interface-接口" class="sidebar-link">2.3 interface 接口</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-4-数组-2-种方式" class="sidebar-link">2.4 数组 2 种方式</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-5-函数" class="sidebar-link">2.5 函数</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#函数" class="sidebar-link">函数</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-6-类型断言-联合类型-交叉类型" class="sidebar-link">2.6 类型断言 联合类型 交叉类型</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#联合类型" class="sidebar-link">联合类型</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#交叉类型" class="sidebar-link">交叉类型</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#类型断言" class="sidebar-link">类型断言</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-7-内置对象" class="sidebar-link">2.7 内置对象</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-8-类-class" class="sidebar-link">2.8 类 class</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-9-抽象类-abstract" class="sidebar-link">2.9 抽象类 abstract</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#super-关键字" class="sidebar-link">super 关键字</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#链式调用" class="sidebar-link">链式调用</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-10-元组-长度固定的数组-tuple" class="sidebar-link">2.10 元组 长度固定的数组 tuple</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-11-枚举-enum" class="sidebar-link">2.11 枚举 enum</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_2-12-类型别名-类型推论" class="sidebar-link">2.12 类型别名 | 类型推论</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#泛型" class="sidebar-link">泛型</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#泛型的一些应用" class="sidebar-link">泛型的一些应用</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#tsconfig-js-解析" class="sidebar-link">tsconfig.js 解析</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#namespace-命名空间" class="sidebar-link">namespace 命名空间</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#三斜线指令" class="sidebar-link">三斜线指令 ///</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#声明文件-declare" class="sidebar-link">声明文件 declare</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#混入-mixin" class="sidebar-link">混入 Mixin</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#装饰器-decorator" class="sidebar-link">装饰器 Decorator</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#ts-编写发布订阅" class="sidebar-link">Ts 编写发布订阅</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#ts-进阶-协变-逆变-双向协变" class="sidebar-link">TS 进阶 协变 逆变 双向协变</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#ts-进阶用法-partial-pick" class="sidebar-link">_TS 进阶用法 Partial &amp; Pick_</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#infer" class="sidebar-link">Infer</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#工具类型-utility-types" class="sidebar-link">工具类型 Utility Types</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#接口-interface" class="sidebar-link">接口 interface</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#属性的封装" class="sidebar-link">属性的封装</a></li></ul></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#_4-面向对象" class="sidebar-link">4.面向对象</a></li><li class="sidebar-sub-header"><a href="/base/js/ts.html#高级类型一" class="sidebar-link">高级类型一</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/base/js/ts.html#type-和-interface-的区别" class="sidebar-link">type 和 interface 的区别</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="ts-笔记"><a href="#ts-笔记" class="header-anchor">#</a> ts 笔记</h2> <h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> Typescript</h1> <p>TS 在线运行网站</p> <p><a href="https://www.typescriptlang.org/play" target="_blank" rel="noopener noreferrer">TS Playground - An online editor for exploring TypeScript and JavaScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h2 id="_1-搭建-ts-坏境"><a href="#_1-搭建-ts-坏境" class="header-anchor">#</a> 1.搭建 ts 坏境</h2> <p>npm i -g typescript 会有 tsc 命令进行编译。 tsc xx.ts —watch 监视变化 运行使用 node xxx.js</p> <p>省去编译加运行 安装 ts-node</p> <p>npm i ts-node</p> <p>ts-node xxx.ts 即可执行</p> <h2 id="_2-基本类型"><a href="#_2-基本类型" class="header-anchor">#</a> 2.基本类型</h2> <h3 id="_2-1-number-string-boolean-symbol-unknow-any-never-void"><a href="#_2-1-number-string-boolean-symbol-unknow-any-never-void" class="header-anchor">#</a> 2.1 number string boolean symbol unknow any never void</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// let n:number = 123</span>
<span class="token keyword">let</span> num<span class="token operator">:</span><span class="token builtin">number</span>   num<span class="token operator">=</span><span class="token number">123</span>
    <span class="token comment">// 类型断言</span>
    <span class="token keyword">let</span> a<span class="token operator">=</span> <span class="token number">123</span>
    <span class="token comment">// a  = '123'</span>
    <span class="token comment">// string</span>
    <span class="token keyword">let</span> s<span class="token operator">:</span><span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'123'</span>
    <span class="token comment">// s=123</span>

    <span class="token comment">// boolean</span>
    <span class="token keyword">let</span> b<span class="token operator">:</span><span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span>
</code></pre></div><p>特殊类型 undefined null any unkown void never</p> <p>any :可以被任何赋值，也可以赋值给任何值（never 除外）</p> <p>unknow:使用配合类型断言。不能赋值给 any 之外的类型 可以被所有赋值</p> <p>void: 可以把 undefined 值或类型是 undefined 的变量赋值给 void，类型是 void 但值是 undefined 变量不能赋值给 undefined 类型 undefined null 赋值</p> <p>never：永远不会发生值 抛出错误 ，是所有类型的字类型 可以给所有类型赋值</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>    <span class="token comment">// null undefined void never unkown</span>
    <span class="token keyword">let</span> <span class="token literal-property property">u</span><span class="token operator">:</span><span class="token keyword">undefined</span> <span class="token operator">=</span> <span class="token keyword">undefined</span>


    <span class="token keyword">let</span> <span class="token literal-property property">n</span><span class="token operator">:</span><span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span>

    <span class="token comment">// 指定了--strictNullChecks 不能给number赋值  只能给void和他们自己赋值(不可以)</span>
    <span class="token comment">// let v:void = void</span>

    <span class="token comment">// any 任何值</span>
    <span class="token keyword">let</span> <span class="token literal-property property">notSure</span><span class="token operator">:</span>any <span class="token operator">=</span> <span class="token number">123</span>
    notSure <span class="token operator">=</span> <span class="token string">'abv'</span>

    <span class="token comment">// unknown</span>
    <span class="token comment">// 使用any 没有将风险暴露 如果不是number 怎么办</span>
    <span class="token keyword">function</span> <span class="token function">divide</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span>any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> params<span class="token operator">/</span><span class="token number">2</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***divide'</span><span class="token punctuation">,</span><span class="token function">divide</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

    <span class="token comment">// 使用unknown 配合类型断言</span>
    <span class="token keyword">function</span> <span class="token function">div</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span>unknown</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 进行处理</span>
        <span class="token keyword">return</span> params <span class="token keyword">as</span> number <span class="token operator">/</span><span class="token number">2</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***divide'</span><span class="token punctuation">,</span><span class="token function">div</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//NaN</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***divide'</span><span class="token punctuation">,</span><span class="token function">div</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//5</span>

    <span class="token comment">// void</span>

    <span class="token keyword">function</span> <span class="token function">wel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// return 1</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***wel()'</span><span class="token punctuation">,</span><span class="token function">wel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//undefined</span>

    <span class="token comment">//never 永不存在 是任何类型的子类型</span>
    <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">msg</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token operator">:</span>never <span class="token punctuation">{</span>
        <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***msg'</span><span class="token punctuation">,</span>msg<span class="token punctuation">)</span><span class="token comment">//undefined</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// throw new Error(msg)</span>
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***fn'</span><span class="token punctuation">,</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

</code></pre></div><p>any 和 unkown 区别</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> e<span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">//let e 隐式any</span>
<span class="token keyword">let</span> s<span class="token operator">:</span> <span class="token builtin">string</span>
s <span class="token operator">=</span> e <span class="token comment">//any类型可以赋值给别人</span>
<span class="token keyword">let</span> d<span class="token operator">:</span> <span class="token builtin">unknown</span>
s <span class="token operator">=</span> d <span class="token comment">//这种赋值不允许</span>
<span class="token comment">// unknown 不能赋值给确定的变量  如果要赋值 必须作判断</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> e <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	s <span class="token operator">=</span> e
<span class="token punctuation">}</span>
<span class="token comment">// 类型断言  告诉浏览器e就是string</span>
s <span class="token operator">=</span> e <span class="token keyword">as</span> <span class="token builtin">string</span>
s <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>string</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">e
</span></code></pre></div><h3 id="symbol-类型"><a href="#symbol-类型" class="header-anchor">#</a> symbol 类型</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> _s<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> r<span class="token operator">:</span> <span class="token builtin">symbol</span> <span class="token operator">=</span> <span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span>
<span class="token comment">// symbol 不会被遍历</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>_s<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">'s'</span><span class="token punctuation">,</span>
	r<span class="token operator">:</span> <span class="token string">'r'</span>
<span class="token punctuation">}</span>
<span class="token comment">// for...in  Object.keys得不到</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***key'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">// 可以得到</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">getOwnPropertySymbols</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 得到全部</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Reflect<span class="token punctuation">.</span><span class="token function">ownKeys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>迭代器 都有 S<strong>ymbol(Symbol.iterator)</strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token literal-property property">arr</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> <span class="token literal-property property">it</span><span class="token operator">:</span> Iterator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = arr[Symbol.iterator]()
console.log('打印***it', it.next())

type mapKeys = string | number
let set: Set</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = new Set([1, 2, 3])
let map: Map&lt;mapKeys, mapKeys&gt; = new Map()
map.set('1', '网')
map.set('2', '网2')

function gen(arg: any) </span><span class="token punctuation">{</span>
	<span class="token keyword">let</span> <span class="token literal-property property">it</span><span class="token operator">:</span> Iterator<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = arg[Symbol.iterator]()
	let next: any = </span><span class="token punctuation">{</span> <span class="token literal-property property">done</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token plain-text">
	while (!next.done) </span><span class="token punctuation">{</span>
		next <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>next<span class="token punctuation">.</span>done<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token plain-text">
}

// 可以使用for of 是值
// for  in 是键
</span></code></pre></div><h3 id="reflect-proxy"><a href="#reflect-proxy" class="header-anchor">#</a> Reflect proxy</h3> <p>Proxy 对象用于创建一个对象的代理，从而实现基本操作的拦截和自定义（如属性查找、赋值、枚举、函数调用等）</p> <p>target 要使用 Proxy 包装的目标对象（可以是任何类型的对象，包括原生数组，函数，甚至另一个代理）。</p> <p>handler 一个通常以函数作为属性的对象，各属性中的函数分别定义了在执行各种操作时代理 p 的行为。</p> <p>handler.get() 本次使用的 get : 属性读取操作的捕捉器。</p> <p>handler.set() 本次使用的 set :属性设置操作的捕捉器。</p> <p>Reflect
与大多数全局对象不同 Reflect 并非一个构造函数，所以不能通过 new 运算符对其进行调用，或者将 Reflect 对象作为一个函数来调用。Reflect 的所有属性和方法都是静态的（就像 Math 对象）</p> <p>Reflect.get(target, name, receiver)
Reflect.get 方法查找并返回 target 对象的 name 属性，如果没有该属性返回 undefined</p> <p>Reflect.set(target, name,value, receiver)
Reflect.set 方法设置 target 对象的 name 属性等于 value。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>type Person <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string
	<span class="token literal-property property">age</span><span class="token operator">:</span> number
	<span class="token literal-property property">text</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">proxy</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">object</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***===========get'</span><span class="token punctuation">)</span>

			<span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***===========set'</span><span class="token punctuation">)</span>
			<span class="token keyword">return</span> Reflect<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">,</span> receiver<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> logAcess <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(object: T, key: keyof T): T =&gt; </span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">proxy</span><span class="token punctuation">(</span>object<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token plain-text">

let man = logAcess</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">(
	</span><span class="token punctuation">{</span>
		<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'fu'</span><span class="token punctuation">,</span>
		<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
		<span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">'10s'</span>
	<span class="token punctuation">}</span><span class="token plain-text">,
	'name'
)

man.age = 40
console.log('打印***man', man, man.name)
</span></code></pre></div><h3 id="_2-2-object-object-区别"><a href="#_2-2-object-object-区别" class="header-anchor">#</a> 2.2 Object object {}区别</h3> <p>Object 是所有的类型，object 是引用类型 {} 定义过后无法进行赋值修改</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> a<span class="token operator">:</span> object
a <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function-variable function">a</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">//指定必须一致</span>
<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token comment">//    ?:可选属性</span>
	age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
b <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'abc'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 可以添加多个属性 但必须有name属性</span>
<span class="token keyword">let</span> c<span class="token operator">:</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">//表示随便的名称  js中的属性就是字符串  类型为any</span>
<span class="token punctuation">}</span>

c <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'234'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-3-interface-接口"><a href="#_2-3-interface-接口" class="header-anchor">#</a> 2.3 interface 接口</h3> <p>定义对象,</p> <ul><li>同名重合</li> <li>任意 key [x:string]:any 索引签名，一般写 any,如果写成 number 或者其他，那么其他属性都是 number</li> <li>?可选操作符 readonly</li> <li>接口继承 extends 合成一个</li> <li>定义一个函数类型</li></ul> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 接口</span>
<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token keyword">readonly</span> cardNum<span class="token operator">:</span> <span class="token builtin">string</span>
	gender<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">'male'</span> <span class="token operator">|</span> <span class="token string">'female'</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> per<span class="token operator">:</span> Person <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'zh'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
	cardNum<span class="token operator">:</span> <span class="token string">'1234455'</span>
<span class="token punctuation">}</span>

per<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'123'</span>
<span class="token comment">// per.cardNum = '1234423'</span>

<span class="token comment">// 不确定属性</span>
<span class="token keyword">interface</span> <span class="token class-name">NotSure</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj<span class="token operator">:</span> NotSure <span class="token operator">=</span> <span class="token punctuation">{</span>
	a<span class="token operator">:</span> <span class="token string">'23423'</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">LikeArr</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> objArr<span class="token operator">:</span> LikeArr <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token number">0</span><span class="token operator">:</span> <span class="token string">'0'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> likeArr<span class="token operator">:</span> LikeArr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span>

<span class="token comment">// 使用type定义函数类型</span>
<span class="token keyword">type</span> <span class="token class-name">Func</span> <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span>

<span class="token keyword">let</span> func<span class="token operator">:</span> <span class="token function-variable function">Func</span> <span class="token operator">=</span> name <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***name'</span><span class="token punctuation">,</span> name<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">Fun</span> <span class="token punctuation">{</span>
	<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 箭头函数式定义</span>
<span class="token keyword">const</span> fn<span class="token operator">:</span> <span class="token function-variable function">Fun</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token punctuation">,</span> y<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token function">fn</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">.</span>length<span class="token punctuation">)</span>

<span class="token comment">// 使用定义的就自己定义类型</span>
<span class="token keyword">function</span> <span class="token function">fn1</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>

<span class="token comment">// 索引签名 number作为键必须为数字 string作为键可以是数字和字符串</span>
<span class="token keyword">interface</span> <span class="token class-name">INumObj</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>name<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token comment">// 可以添加readonly 进行只读提示，并不会阻止赋值</span>
<span class="token keyword">interface</span> <span class="token class-name">IStrObj</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token comment">//age:number // 不可以设置</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj1<span class="token operator">:</span> INumObj <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token number">1</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
	<span class="token number">2</span><span class="token operator">:</span> <span class="token string">'2'</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj2<span class="token operator">:</span> IStrObj <span class="token operator">=</span> <span class="token punctuation">{</span>
	str1<span class="token operator">:</span> <span class="token string">'str1'</span><span class="token punctuation">,</span>
	<span class="token number">2</span><span class="token operator">:</span> <span class="token string">'2'</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-4-数组-2-种方式"><a href="#_2-4-数组-2-种方式" class="header-anchor">#</a> 2.4 数组 2 种方式</h3> <ul><li>普通数组</li> <li>对象数组</li> <li>二维数组 什么都有 any[]</li> <li>类数组 IArguments</li></ul> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> e<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token comment">//字符串数组</span>
e <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">,</span> <span class="token string">'2'</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> g<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span>
g <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token comment">// 对象数组</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">X</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token constant">X</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'1'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>

<span class="token comment">// 二维数组</span>
<span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> arr1<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token comment">// 函数中的数组使用</span>
<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">let</span> a<span class="token operator">:</span> IArguments <span class="token operator">=</span> arguments
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-5-函数"><a href="#_2-5-函数" class="header-anchor">#</a> 2.5 函数</h3> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">//定义函数</span>
<span class="token keyword">let</span> <span class="token function-variable function">d</span><span class="token operator">:</span> <span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">number</span>
<span class="token function-variable function">d</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre></div><p>函数重载 定义多次</p> <p>方法名字相同，参数不同，返回类型可以相同可以不同。如果参数类型不同，则操作参数类型应设置为 any，参数数量不同可以将不同的参数设置为可选。</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 两套规则</span>
<span class="token keyword">function</span> <span class="token function">add3</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token keyword">function</span> <span class="token function">add3</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> y<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token comment">// 执行操作的实现函数</span>
<span class="token keyword">function</span> <span class="token function">add3</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> y<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token punctuation">{</span>
	<span class="token comment">//类型判断</span>
	<span class="token keyword">return</span> x <span class="token operator">+</span> y
<span class="token punctuation">}</span>
<span class="token comment">//如果是第一个 第一个规则</span>
<span class="token function">add3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token comment">// 传两个 第二套规则</span>
<span class="token function">add3</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-6-类型断言-联合类型-交叉类型"><a href="#_2-6-类型断言-联合类型-交叉类型" class="header-anchor">#</a> 2.6 类型断言 联合类型 交叉类型</h3> <p>联合类型：同时可以赋值多个，比如先定义成 null/undefined 后面不可能为空值，就可以进行类型断言</p> <h3 id="联合类型"><a href="#联合类型" class="header-anchor">#</a> 联合类型</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 定义常量</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token number">10</span>
a <span class="token operator">=</span> <span class="token number">10</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token string">'male'</span> <span class="token operator">|</span> <span class="token string">'false'</span> <span class="token comment">//(联合类型)</span>

b <span class="token operator">=</span> <span class="token string">'male'</span>
b <span class="token operator">=</span> <span class="token string">'false'</span>
<span class="token comment">// b='female'</span>

<span class="token comment">// let j:string|number;  表示对象都要有</span>
<span class="token keyword">let</span> j<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
j <span class="token operator">=</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'123'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">12</span> <span class="token punctuation">}</span>
</code></pre></div><h3 id="交叉类型"><a href="#交叉类型" class="header-anchor">#</a> 交叉类型</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Student</span> <span class="token operator">=</span> Person <span class="token operator">&amp;</span> <span class="token punctuation">{</span> grader<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> stu<span class="token operator">:</span> Student <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
	grader<span class="token operator">:</span> <span class="token number">100</span>
<span class="token punctuation">}</span>

<span class="token comment">// const s1:Student</span>
<span class="token comment">// s1.name = 'zs'</span>
<span class="token comment">// s1.age=12</span>
<span class="token comment">// s1.grader=100</span>
</code></pre></div><h3 id="类型断言"><a href="#类型断言" class="header-anchor">#</a> 类型断言</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>type<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">|</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 此处无法分别A还是B 所以进行断言 常用as</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token constant">A</span><span class="token operator">&gt;</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">type</span> <span class="token class-name"><span class="token keyword">as</span></span> <span class="token constant">A</span><span class="token punctuation">)</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">//数字不能有长度 使用类型断言  两种方式</span>
<span class="token keyword">const</span> <span class="token function-variable function">getLength</span> <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span>target<span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">||</span> <span class="token punctuation">(</span>target <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span>target <span class="token keyword">as</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> target<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token number">123556</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getLength</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>使用 as 作类型断言</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">const</span> <span class="token literal-property property">arr</span><span class="token operator">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">const</span> <span class="token literal-property property">than</span><span class="token operator">:</span> number <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token parameter">num</span> <span class="token operator">=&gt;</span> num <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token keyword">as</span> number

<span class="token keyword">const</span> <span class="token literal-property property">than</span><span class="token operator">:</span> number <span class="token operator">=</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">arr.find(num =&gt; num &gt; 2)
</span></code></pre></div><p>常量断言</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">let</span> str <span class="token operator">=</span> <span class="token string">'str'</span> <span class="token keyword">as</span> <span class="token keyword">const</span>
</code></pre></div><p>非空断言 建议使用类型守卫，就是先判断类型</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>xxx<span class="token operator">!</span><span class="token punctuation">.</span>toString（）
</code></pre></div><div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 常用的类型守卫</span>
	<span class="token number">1.</span> <span class="token keyword">switch</span>
	<span class="token number">2.</span> 字面量恒等
	<span class="token number">3</span> <span class="token keyword">typeof</span>
	<span class="token number">4</span> <span class="token keyword">instanceof</span>
	<span class="token number">5</span> <span class="token keyword">in</span>
	<span class="token number">6</span> 自定义类型守卫
</code></pre></div><h3 id="_2-7-内置对象"><a href="#_2-7-内置对象" class="header-anchor">#</a> 2.7 内置对象</h3> <p>Array、Boolean、String、RegExp、Date…</p> <p>DOM BOM</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">let</span> <span class="token literal-property property">body</span><span class="token operator">:</span> HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">;</span>
<span class="token keyword">let</span> <span class="token literal-property property">allDiv</span><span class="token operator">:</span> NodeList <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//读取div 这种需要类型断言 或者加个判断应为读不到返回null</span>
<span class="token keyword">let</span> <span class="token literal-property property">div</span><span class="token operator">:</span>HTMLElement <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLDivElement
document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">e</span><span class="token operator">:</span> MouseEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//dom元素的映射表</span>
<span class="token keyword">interface</span> <span class="token class-name">HTMLElementTagNameMap</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;a&quot;</span><span class="token operator">:</span> HTMLAnchorElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;abbr&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;address&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;applet&quot;</span><span class="token operator">:</span> HTMLAppletElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;area&quot;</span><span class="token operator">:</span> HTMLAreaElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;article&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;aside&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;audio&quot;</span><span class="token operator">:</span> HTMLAudioElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;b&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;base&quot;</span><span class="token operator">:</span> HTMLBaseElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;bdi&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;bdo&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;blockquote&quot;</span><span class="token operator">:</span> HTMLQuoteElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;body&quot;</span><span class="token operator">:</span> HTMLBodyElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;br&quot;</span><span class="token operator">:</span> HTMLBRElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;button&quot;</span><span class="token operator">:</span> HTMLButtonElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;canvas&quot;</span><span class="token operator">:</span> HTMLCanvasElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;caption&quot;</span><span class="token operator">:</span> HTMLTableCaptionElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;cite&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;code&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;col&quot;</span><span class="token operator">:</span> HTMLTableColElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;colgroup&quot;</span><span class="token operator">:</span> HTMLTableColElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;data&quot;</span><span class="token operator">:</span> HTMLDataElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;datalist&quot;</span><span class="token operator">:</span> HTMLDataListElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dd&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;del&quot;</span><span class="token operator">:</span> HTMLModElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;details&quot;</span><span class="token operator">:</span> HTMLDetailsElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dfn&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dialog&quot;</span><span class="token operator">:</span> HTMLDialogElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dir&quot;</span><span class="token operator">:</span> HTMLDirectoryElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;div&quot;</span><span class="token operator">:</span> HTMLDivElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dl&quot;</span><span class="token operator">:</span> HTMLDListElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;dt&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;em&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;embed&quot;</span><span class="token operator">:</span> HTMLEmbedElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;fieldset&quot;</span><span class="token operator">:</span> HTMLFieldSetElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;figcaption&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;figure&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;font&quot;</span><span class="token operator">:</span> HTMLFontElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;footer&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;form&quot;</span><span class="token operator">:</span> HTMLFormElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;frame&quot;</span><span class="token operator">:</span> HTMLFrameElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;frameset&quot;</span><span class="token operator">:</span> HTMLFrameSetElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h1&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h2&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h3&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h4&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h5&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;h6&quot;</span><span class="token operator">:</span> HTMLHeadingElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;head&quot;</span><span class="token operator">:</span> HTMLHeadElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;header&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;hgroup&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;hr&quot;</span><span class="token operator">:</span> HTMLHRElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;html&quot;</span><span class="token operator">:</span> HTMLHtmlElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;i&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;iframe&quot;</span><span class="token operator">:</span> HTMLIFrameElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;img&quot;</span><span class="token operator">:</span> HTMLImageElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;input&quot;</span><span class="token operator">:</span> HTMLInputElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;ins&quot;</span><span class="token operator">:</span> HTMLModElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;kbd&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;label&quot;</span><span class="token operator">:</span> HTMLLabelElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;legend&quot;</span><span class="token operator">:</span> HTMLLegendElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;li&quot;</span><span class="token operator">:</span> HTMLLIElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;link&quot;</span><span class="token operator">:</span> HTMLLinkElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;map&quot;</span><span class="token operator">:</span> HTMLMapElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;mark&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;marquee&quot;</span><span class="token operator">:</span> HTMLMarqueeElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;menu&quot;</span><span class="token operator">:</span> HTMLMenuElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;meta&quot;</span><span class="token operator">:</span> HTMLMetaElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;meter&quot;</span><span class="token operator">:</span> HTMLMeterElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;nav&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;noscript&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;object&quot;</span><span class="token operator">:</span> HTMLObjectElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;ol&quot;</span><span class="token operator">:</span> HTMLOListElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;optgroup&quot;</span><span class="token operator">:</span> HTMLOptGroupElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;option&quot;</span><span class="token operator">:</span> HTMLOptionElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;output&quot;</span><span class="token operator">:</span> HTMLOutputElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;p&quot;</span><span class="token operator">:</span> HTMLParagraphElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;param&quot;</span><span class="token operator">:</span> HTMLParamElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;picture&quot;</span><span class="token operator">:</span> HTMLPictureElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;pre&quot;</span><span class="token operator">:</span> HTMLPreElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;progress&quot;</span><span class="token operator">:</span> HTMLProgressElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;q&quot;</span><span class="token operator">:</span> HTMLQuoteElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;rp&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;rt&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;ruby&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;s&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;samp&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;script&quot;</span><span class="token operator">:</span> HTMLScriptElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;section&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;select&quot;</span><span class="token operator">:</span> HTMLSelectElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;slot&quot;</span><span class="token operator">:</span> HTMLSlotElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;small&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;source&quot;</span><span class="token operator">:</span> HTMLSourceElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;span&quot;</span><span class="token operator">:</span> HTMLSpanElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;strong&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;style&quot;</span><span class="token operator">:</span> HTMLStyleElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;sub&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;summary&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;sup&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;table&quot;</span><span class="token operator">:</span> HTMLTableElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;tbody&quot;</span><span class="token operator">:</span> HTMLTableSectionElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;td&quot;</span><span class="token operator">:</span> HTMLTableDataCellElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;template&quot;</span><span class="token operator">:</span> HTMLTemplateElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;textarea&quot;</span><span class="token operator">:</span> HTMLTextAreaElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;tfoot&quot;</span><span class="token operator">:</span> HTMLTableSectionElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;th&quot;</span><span class="token operator">:</span> HTMLTableHeaderCellElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;thead&quot;</span><span class="token operator">:</span> HTMLTableSectionElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;time&quot;</span><span class="token operator">:</span> HTMLTimeElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;title&quot;</span><span class="token operator">:</span> HTMLTitleElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;tr&quot;</span><span class="token operator">:</span> HTMLTableRowElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;track&quot;</span><span class="token operator">:</span> HTMLTrackElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;u&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;ul&quot;</span><span class="token operator">:</span> HTMLUListElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;var&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;video&quot;</span><span class="token operator">:</span> HTMLVideoElement<span class="token punctuation">;</span>
    <span class="token string-property property">&quot;wbr&quot;</span><span class="token operator">:</span> HTMLElement<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// promise</span>
<span class="token keyword">function</span> <span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> Promise<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> </span><span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>number</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">((resolve, reject) =&gt; </span><span class="token punctuation">{</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token plain-text">)
}

promise().then(res =&gt; </span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***res'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token plain-text">)
</span></code></pre></div><h3 id="_2-8-类-class"><a href="#_2-8-类-class" class="header-anchor">#</a> 2.8 类 class</h3> <p>属性必须先声明。</p> <ul><li>public 公共的 内外都可以访问 -</li> <li>private 当前内部可以访问</li> <li>protected 外部不能访问内部和子类可以访问即继承的可以访问</li> <li>static 静态属性/函数 不需要 new 静态</li> <li>static 静态方法 不能访问非静态属性 内部不能进行调用，静态方法之间可以相互调用</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// 不用就可选</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
  <span class="token keyword">public</span> type<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// 不用就可选</span>
	<span class="token keyword">protected</span> gender<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token keyword">static</span> <span class="token keyword">readonly</span> c<span class="token operator">:</span> <span class="token string">'man'</span> <span class="token operator">|</span> <span class="token string">'woman'</span> <span class="token operator">=</span> <span class="token string">'man'</span> <span class="token comment">// 静态只读</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> gender<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
		<span class="token keyword">this</span><span class="token punctuation">.</span>gender <span class="token operator">=</span> gender
	<span class="token punctuation">}</span>
	<span class="token keyword">static</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 只能访问静态属性c  其他的访问不到</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***this.'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>c<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">static</span> <span class="token function">dev</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token string">'dev'</span>
	<span class="token punctuation">}</span>
  <span class="token function">bark</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// this 指向实例化</span>
      <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Man</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">'女'</span><span class="token punctuation">)</span>
		<span class="token comment">// protected 子类可以访问 private 只能内部可以访问</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***this.gender'</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>gender<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>使用接口去定义类</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">P</span></span> <span class="token punctuation">{</span>
	<span class="token function">run</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">H</span></span> <span class="token punctuation">{</span>
	<span class="token function">dev</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	params<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>params <span class="token operator">=</span> params
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 类定义多个接口</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token keyword">implements</span> <span class="token class-name"><span class="token constant">P</span></span><span class="token punctuation">,</span> <span class="token constant">H</span> <span class="token punctuation">{</span>
	<span class="token function">run</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">boolean</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> x
	<span class="token punctuation">}</span>
	<span class="token function">dev</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***p'</span><span class="token punctuation">,</span> p<span class="token punctuation">)</span>
</code></pre></div><p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/833abe6f-c005-493b-a515-d6e9643af436/Untitled.png" alt="Untitled"></p> <h3 id="_2-9-抽象类-abstract"><a href="#_2-9-抽象类-abstract" class="header-anchor">#</a> 2.9 抽象类 abstract</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 抽象类  animal 创建对象  父类禁止创建对象</span>

<span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
	<span class="token comment">// 可以在抽象中实现</span>
	<span class="token function">setName</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
	<span class="token comment">// 抽象方法 结构定义好 具体让子类定义 只能在抽象类中 子类必须重写</span>
	<span class="token keyword">abstract</span> <span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token comment">// super 表示父类</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'汪汪'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dog</span><span class="token punctuation">(</span><span class="token string">'小花'</span><span class="token punctuation">)</span>
d<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'xiao gou'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***d.name'</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
</code></pre></div><p>继承</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 出现大量重复的代码  父类</span>
<span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'动物在叫'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 子类  拥有父类所有的属性方法</span>
<span class="token comment">// 子类对父类有相同的方法  叫做方法重写</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	<span class="token comment">// 自定义属性</span>
	<span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">在跑～～～</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'汪汪汪'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'喵喵喵'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="super-关键字"><a href="#super-关键字" class="header-anchor">#</a> super 关键字</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">class</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'动物在叫···'</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//如果子类没有自己的constructor就不需要调用super</span>
<span class="token keyword">class</span> <span class="token class-name">Dog</span> <span class="token keyword">extends</span> <span class="token class-name">Animal</span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 调用父类的constructor</span>
		<span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token comment">// super 表示父类</span>
		<span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="链式调用"><a href="#链式调用" class="header-anchor">#</a> 链式调用</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 基本链式调用</span>
<span class="token keyword">class</span> <span class="token class-name">StudyStep</span> <span class="token punctuation">{</span>
	<span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'listen'</span><span class="token punctuation">)</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span>
	<span class="token punctuation">}</span>
	<span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'read'</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> study <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StudyStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
study<span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// 调用子类父类方法</span>
<span class="token keyword">class</span> <span class="token class-name">MyStudyStep</span> <span class="token keyword">extends</span> <span class="token class-name">StudyStep</span> <span class="token punctuation">{</span>
	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'next'</span><span class="token punctuation">)</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myStudy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyStudyStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
myStudy<span class="token punctuation">.</span><span class="token function">step1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">step2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-10-元组-长度固定的数组-tuple"><a href="#_2-10-元组-长度固定的数组-tuple" class="header-anchor">#</a> 2.10 元组 长度固定的数组 tuple</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">let</span> h<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span>
h <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'daf'</span><span class="token punctuation">,</span> <span class="token string">'dfa'</span><span class="token punctuation">]</span>

<span class="token keyword">let</span> arr<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">]</span>
<span class="token comment">// 越界报错，string number 不会报错</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">'dfad'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-11-枚举-enum"><a href="#_2-11-枚举-enum" class="header-anchor">#</a> 2.11 枚举 enum</h3> <ol><li>数字枚举 以 0 开始递增 可以定义第一个开始的索引</li></ol> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 常量：数字</span>
<span class="token keyword">enum</span> Day <span class="token punctuation">{</span>
<span class="token constant">SUNDAY</span><span class="token punctuation">,</span>
<span class="token constant">MONDAY</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><ol><li>字符串枚举 字符串：字符串</li> <li>异构枚举 同时拥有字符串和数字</li> <li>常量成员和计算成员 编译后变成常量 不用编译成对象</li> <li>枚举成员</li> <li>反向映射 字符串不可以</li></ol> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">enum</span> Gender <span class="token punctuation">{</span>
	Male <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
	Female <span class="token operator">=</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token comment">//默认使用 0 1 往后递增  可以设定一个 后面一个递增</span>
<span class="token comment">// let i:{name:string,gender:string}</span>
<span class="token keyword">let</span> i<span class="token operator">:</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span> gender<span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token number">1</span> <span class="token punctuation">}</span>
i <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
	gender<span class="token operator">:</span> Gender<span class="token punctuation">.</span>Male
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">.</span>gender <span class="token operator">===</span> Gender<span class="token punctuation">.</span>Male<span class="token punctuation">)</span>

<span class="token comment">//使用常量枚举 编译后简洁</span>

<span class="token keyword">const</span> <span class="token keyword">enum</span> Direction <span class="token punctuation">{</span>
	<span class="token constant">UP</span> <span class="token operator">=</span> <span class="token string">'UP'</span><span class="token punctuation">,</span>
	<span class="token constant">DOWN</span> <span class="token operator">=</span> <span class="token string">'DOWN'</span><span class="token punctuation">,</span>
	<span class="token constant">LEFT</span> <span class="token operator">=</span> <span class="token string">'LEFT'</span><span class="token punctuation">,</span>
	<span class="token constant">RIGHT</span> <span class="token operator">=</span> <span class="token string">'RIGHT'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译后变成常量</span>
<span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token string">'UP'</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> Direction<span class="token punctuation">[</span><span class="token string">'UP'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> Direction<span class="token punctuation">.</span><span class="token constant">UP</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
<span class="token comment">// 反向映射</span>
<span class="token keyword">enum</span> Type <span class="token punctuation">{</span>
	success
<span class="token punctuation">}</span>

<span class="token keyword">const</span> n<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> Type<span class="token punctuation">.</span>success

<span class="token keyword">let</span> key <span class="token operator">=</span> Type<span class="token punctuation">[</span>n<span class="token punctuation">]</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印*** n ,key'</span><span class="token punctuation">,</span> n<span class="token punctuation">,</span> key<span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-12-类型别名-类型推论"><a href="#_2-12-类型别名-类型推论" class="header-anchor">#</a> 2.12 类型别名 | 类型推论</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// string 比较长 使用 s代替</span>
<span class="token keyword">type</span> <span class="token class-name">s</span> <span class="token operator">=</span> <span class="token builtin">string</span>
<span class="token keyword">let</span> str<span class="token operator">:</span> s <span class="token operator">=</span> <span class="token number">1</span>

<span class="token comment">//名字解析</span>
<span class="token keyword">type</span> <span class="token class-name">Name</span> <span class="token operator">=</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">NameResolve</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span>
<span class="token keyword">type</span> <span class="token class-name">NameOrResolve</span> <span class="token operator">=</span> Name <span class="token operator">|</span> NameResolve
<span class="token keyword">function</span> <span class="token function">getName</span><span class="token punctuation">(</span>n<span class="token operator">:</span> NameOrResolve<span class="token punctuation">)</span><span class="token operator">:</span> Name <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> n <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> n
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">n</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/eda26a77-81c0-410b-be93-57ea3a2387db/Untitled.png" alt="Untitled"></p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">**</span><span class="token comment">//extends 包含的意思 左边的值作为右边类型的子类型</span>
<span class="token comment">// 类型层级</span>
<span class="token comment">// 顶级类型 any unknow</span>
<span class="token comment">// ==========</span>
<span class="token comment">// Object</span>
<span class="token comment">// ============</span>
<span class="token comment">// Number String Boolean</span>
<span class="token comment">// number string boolean</span>
<span class="token comment">//  1      't'     false</span>
<span class="token comment">// ============</span>
<span class="token comment">// never</span>

<span class="token keyword">type</span> <span class="token class-name">num</span> <span class="token operator">=</span> Number <span class="token keyword">extends</span> <span class="token class-name"><span class="token builtin">number</span></span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token comment">// 0**</span>
</code></pre></div><h3 id="泛型"><a href="#泛型" class="header-anchor">#</a> 泛型</h3> <ul><li>类型自动推导</li> <li>泛型约束</li></ul> <p>函数式泛型</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">/**
 * 比如一个函数的参数类型不明确 返回值也需要依靠参数确定  写any失去意义
 * 泛型  不确定类型
 */</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">func</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a
<span class="token punctuation">}</span>

<span class="token comment">//使用  //1. TS类型推断 自动推导出类型</span>
<span class="token function">func</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>

<span class="token comment">// 2.指定泛型</span>
<span class="token generic-function"><span class="token function">func</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">func</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 多个泛型</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">fn2</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span><span class="token operator">:</span> Arry<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">|</span> <span class="token constant">U</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>
	<span class="token keyword">return</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn2</span><span class="token punctuation">(</span><span class="token number">12345</span><span class="token punctuation">,</span> <span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token generic-function"><span class="token function">fn2</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token number">189</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 泛型约束 必须要有属性length</span>
<span class="token keyword">interface</span> <span class="token class-name">Inter</span> <span class="token punctuation">{</span>
	length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 必须的实现接口</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">fn3</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> Inter<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> a<span class="token punctuation">.</span>length
<span class="token punctuation">}</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn3</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
	<span class="token function">fn3</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
		length<span class="token operator">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token comment">// ==========================================================================================</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">prop</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>obj<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> key<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> obj<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">3</span> <span class="token punctuation">}</span>

<span class="token function">prop</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Sub<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	attr<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token function">add</span><span class="token punctuation">(</span>a<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">[</span>a<span class="token punctuation">]</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> sub <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sub<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
sub<span class="token punctuation">.</span>attr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>sub<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>sub<span class="token punctuation">.</span>attr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 泛型定义type</span>
<span class="token keyword">type</span> <span class="token class-name">Printt</span> <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token constant">T</span>

<span class="token keyword">const</span> ptt<span class="token operator">:</span> <span class="token function-variable function">Printt</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token comment">// 泛型定义interface 可以添加默认参数</span>
<span class="token keyword">interface</span> <span class="token class-name">Printi<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">number</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> pti<span class="token operator">:</span> Printi<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token comment">// 函数赋值</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">prinI</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token keyword">const</span> myPrint<span class="token operator">:</span> Printi <span class="token operator">=</span> prinI <span class="token comment">//不用制定类型了</span>
<span class="token comment">// const myPrint:Printi&lt;number&gt; = prinI</span>

<span class="token comment">// 多个参数的变化</span>
<span class="token comment">// function swap(tuple:any){</span>
<span class="token comment">//     return [tuple[1],tuple[0]]</span>
<span class="token comment">// }</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">swap</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>tuple<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token constant">U</span><span class="token punctuation">,</span> <span class="token constant">T</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token punctuation">[</span>tuple<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> tuple<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token function">swap</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

<span class="token comment">// 约束接口返回</span>
<span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">request</span><span class="token punctuation">(</span><span class="token string">'/user/info'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">interface</span> <span class="token class-name">UserInfo</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">request1</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>url<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token generic-function"><span class="token function">request1</span><span class="token generic class-name"><span class="token operator">&lt;</span>UserInfo<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">'user/info'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>res <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="泛型的一些应用"><a href="#泛型的一些应用" class="header-anchor">#</a> 泛型的一些应用</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 泛型 Generics 就像一个占位符 或者一个变量</span>
<span class="token keyword">class</span> <span class="token class-name">Stack<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> data<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
	<span class="token comment">// 1.泛型无法约束static关键字</span>
	<span class="token function">push</span><span class="token punctuation">(</span>item<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">|</span> <span class="token keyword">undefined</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
s1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***s1'</span><span class="token punctuation">,</span> s1<span class="token punctuation">)</span>
<span class="token comment">// s1.push('a')</span>

<span class="token comment">// 2.泛型约束接口</span>

<span class="token keyword">interface</span> <span class="token class-name">IKeyValue<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">U</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
	key<span class="token operator">:</span> <span class="token constant">T</span>
	value<span class="token operator">:</span> <span class="token constant">U</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> k1<span class="token operator">:</span> IKeyValue<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token string">'1'</span> <span class="token punctuation">}</span>
<span class="token keyword">const</span> k2<span class="token operator">:</span> IKeyValue<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span>

<span class="token comment">// 3.泛型定义数组</span>

<span class="token keyword">const</span> arr<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>

<span class="token keyword">const</span> arr1<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="tsconfig-js-解析"><a href="#tsconfig-js-解析" class="header-anchor">#</a> tsconfig.js 解析</h3> <p>这个文件是通过<code>tsc --init</code>命令生成的. 多个文件新增一个 tsconfig.json 文件</p> <p>tsc 会编译所有的 ts 文件 tsc -w 实时编译</p> <p>介绍几个常用的</p> <p>1.include
指定编译文件默认是编译当前目录下所有的 ts 文件</p> <p>2.exclude
指定排除的文件</p> <p>3.target
指定编译 js 的版本例如 es5 es6</p> <p>4.allowJS
是否允许编译 js 文件</p> <p>5.removeComments
是否在编译过程中删除文件中的注释</p> <p>6.rootDir
编译文件的目录</p> <p>7.outDir
输出的目录</p> <p>8.sourceMap
代码源文件</p> <p>9.strict
严格模式</p> <p>10.module
默认 common.js 可选 es6 模式 amd umd 等</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;incremental&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// TS编译器在第一次编译之后会生成一个存储编译信息的文件，第二次编译会在第一次的基础上进行增量编译，可以提高编译的速度</span>
  <span class="token string-property property">&quot;tsBuildInfoFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./buildFile&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 增量编译文件的存储位置</span>
  <span class="token string-property property">&quot;diagnostics&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印诊断信息</span>
  <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 目标语言的版本</span>
  <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;CommonJS&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 生成代码的模板标准</span>
  <span class="token string-property property">&quot;outFile&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 将多个相互依赖的文件生成一个文件，可以用在AMD/system模块中，即开启时应设置&quot;module&quot;: &quot;AMD&quot;,</span>
  <span class="token string-property property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;DOM&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2015&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ScriptHost&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ES2019.Array&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// TS需要引用的库，即声明文件，es5 默认引用dom、es5、scripthost,如需要使用es的高级版本特性，通常都需要配置，如es8的数组新特性需要引入&quot;ES2019.Array&quot;,</span>
  <span class="token string-property property">&quot;allowJS&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许编译器编译JS，JSX文件</span>
  <span class="token string-property property">&quot;checkJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在JS文件中报错，通常与allowJS一起使用</span>
  <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出目录</span>
  <span class="token string-property property">&quot;rootDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定输出文件目录(用于输出)，用于控制输出目录结构</span>
  <span class="token string-property property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成声明文件，开启后会自动生成声明文件</span>
  <span class="token string-property property">&quot;declarationDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./file&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 指定生成声明文件存放目录</span>
  <span class="token string-property property">&quot;emitDeclarationOnly&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 只生成声明文件，而不会生成js文件</span>
  <span class="token string-property property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的sourceMap文件</span>
  <span class="token string-property property">&quot;inlineSourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 生成目标文件的inline SourceMap，inline SourceMap会包含在生成的js文件中</span>
  <span class="token string-property property">&quot;declarationMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 为声明文件生成sourceMap</span>
  <span class="token string-property property">&quot;typeRoots&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 声明文件目录，默认时node_modules/@types. 如果指定了此项，则只有在这里列出的声明文件才会被加载.</span>
  <span class="token string-property property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 加载的声明文件包. 用于指定需要包含的模块，只有在这里列出的模块的声明文件才会被加载</span>
  <span class="token string-property property">&quot;removeComments&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 删除注释</span>
  <span class="token string-property property">&quot;noEmit&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不输出文件,即编译后不会生成任何js文件</span>
  <span class="token string-property property">&quot;noEmitOnError&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 发送错误时不输出任何文件</span>
  <span class="token string-property property">&quot;noEmitHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不生成helper函数，减小体积，需要额外安装，常配合importHelpers一起使用</span>
  <span class="token string-property property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 通过tslib引入helper函数，文件必须是模块</span>
  <span class="token string-property property">&quot;downlevelIteration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 降级遍历器实现，如果目标源是es3/5，那么遍历器会有降级的实现</span>
  <span class="token string-property property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 开启所有严格的类型检查</span>
  <span class="token string-property property">&quot;alwaysStrict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 在代码中注入'use strict'</span>
  <span class="token string-property property">&quot;noImplicitAny&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许隐式的any类型</span>
  <span class="token string-property property">&quot;strictNullChecks&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许把null、undefined赋值给其他类型的变量</span>
  <span class="token string-property property">&quot;strictFunctionTypes&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许函数参数双向协变</span>
  <span class="token string-property property">&quot;strictPropertyInitialization&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 类的实例属性必须初始化</span>
  <span class="token string-property property">&quot;strictBindCallApply&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 严格的bind/call/apply检查</span>
  <span class="token string-property property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 不允许this有隐式的any类型</span>
  <span class="token string-property property">&quot;noUnusedLocals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查只声明、未使用的局部变量(只提示不报错)</span>
  <span class="token string-property property">&quot;noUnusedParameters&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 检查未使用的函数参数(只提示不报错)</span>
  <span class="token string-property property">&quot;noFallthroughCasesInSwitch&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 防止switch语句贯穿(即如果没有break语句后面不会执行)</span>
  <span class="token string-property property">&quot;noImplicitReturns&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">//每个分支都会有返回值</span>
  <span class="token string-property property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许export=导出，由import from 导入.  通过导入内容创建命名空间，实现CommonJS和ES模块之间的互操作性</span>
  <span class="token string-property property">&quot;allowUmdGlobalAccess&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 允许在模块中全局变量的方式访问umd模块</span>
  <span class="token string-property property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 模块解析策略，ts默认用node的解析策略，即相对的方式导入</span>
  <span class="token string-property property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./&quot;</span><span class="token punctuation">,</span> <span class="token comment">// 解析非相对模块的基地址，默认是当前目录</span>
  <span class="token string-property property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token comment">// 路径映射，相对于baseUrl</span>
    <span class="token comment">// 如使用jq时不想使用默认版本，而需要手动指定版本，可进行如下配置</span>
    <span class="token string-property property">&quot;jquery&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;node_modules/jquery/dist/jquery.min.js&quot;</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;rootDirs&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;src&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;out&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// 将多个目录放在一个虚拟目录下，用于运行时，即编译后引入文件的位置可能发生变化，这也设置可以虚拟src和out在同一个目录下，不用再去改变路径也不会报错</span>
  <span class="token string-property property">&quot;listEmittedFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 打印输出文件</span>
  <span class="token string-property property">&quot;listFiles&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token comment">// 打印编译的文件(包括引用的声明文件)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 指定一个匹配列表（属于自动指定该路径下的所有ts相关文件）</span>
<span class="token string-property property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token string">&quot;src/**/*&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 指定一个排除列表（include的反向操作）</span>
 <span class="token string-property property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token string">&quot;demo.ts&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token comment">// 指定哪些文件使用该配置（属于手动一个个指定文件）</span>
 <span class="token string-property property">&quot;files&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
   <span class="token string">&quot;demo.ts&quot;</span>
<span class="token punctuation">]</span>
<span class="token comment">// extends可以通过指定一个其他的tsconfig.json文件路径，来继承这个配置文件里的配置，继承来的文件的配置会覆盖当前文件定义的配置</span>
<span class="token string-property property">&quot;extends&quot;</span><span class="token operator">:</span><span class="token string">&quot;&quot;</span>
</code></pre></div><h3 id="namespace-命名空间"><a href="#namespace-命名空间" class="header-anchor">#</a> namespace 命名空间</h3> <p>我们在工作中无法避免全局变量造成的污染，TypeScript 提供了 namespace 避免这个问题出现</p> <ul><li>内部模块，主要用于组织代码，避免命名冲突。</li> <li>命名空间内的类默认私有</li> <li>通过 export 暴露</li> <li>通过 namespace 关键字定义</li></ul> <p>TypeScript 与 ECMAScript 2015 一样，任何包含顶级 import 或者 export 的文件都被当成一个模块。相反地，如果一个文件不带有顶级的 import 或者 export 声明，那么它的内容被视为全局可见的（因此对模块也是可见的）</p> <ul><li>不同文件可以声明相同的 namespace</li> <li>同一个文件的命名空间会合并</li> <li>嵌套的命名空间引入时可以 import alias = A.B.C</li></ul> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// index.ts</span>
<span class="token keyword">export</span> namespace <span class="token constant">A</span> <span class="token punctuation">{</span>
	<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">1</span>

	<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token comment">// index2.ts 需要重命名</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">A</span> <span class="token keyword">as</span> <span class="token constant">B</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index'</span>
namespace <span class="token constant">A</span> <span class="token punctuation">{</span>
	<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">export</span> namespace <span class="token constant">B</span> <span class="token punctuation">{</span>
		<span class="token keyword">export</span> <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token number">3</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">A</span><span class="token punctuation">.</span>a<span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>b<span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// index.ts</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">A</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./index2'</span>
<span class="token keyword">export</span> namespace <span class="token constant">C</span> <span class="token punctuation">{</span>
	<span class="token keyword">export</span> <span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token number">1</span>
<span class="token punctuation">}</span>

<span class="token keyword">import</span> <span class="token constant">E</span> <span class="token operator">=</span> <span class="token constant">A</span><span class="token punctuation">.</span><span class="token constant">B</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***'</span><span class="token punctuation">,</span> <span class="token constant">E</span><span class="token punctuation">.</span>d<span class="token punctuation">)</span>
<span class="token comment">// index2.ts</span>
<span class="token keyword">export</span> namespace <span class="token constant">A</span> <span class="token punctuation">{</span>
	<span class="token keyword">export</span> <span class="token keyword">const</span> a <span class="token operator">=</span> <span class="token number">2</span>
	<span class="token keyword">export</span> namespace <span class="token constant">B</span> <span class="token punctuation">{</span>
		<span class="token keyword">export</span> <span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token number">3</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 编译后的文件</span>
</code></pre></div><p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/6b77ee14-c65d-49f1-b721-f51032182619/Untitled.png" alt="Untitled"></p> <h3 id="三斜线指令"><a href="#三斜线指令" class="header-anchor">#</a> 三斜线指令 ///</h3> <ul><li><p><code>/// &lt;reference path=&quot;...&quot; /&gt;</code>指令是三斜线指令中最常见的一种。 它用于声明文件间的  <em>依赖</em>。三斜线引用告诉编译器在编译过程中要引入的额外的文件。</p></li> <li><p>声明文件引入</p></li></ul> <p>例如，把 /// <reference types="node"></reference>引入到声明文件，表明这个文件使用了 @types/node/index.d.ts 里面声明的名字； 并且，这个包需要在编译阶段与声明文件一起被包含进来。</p> <p>仅当在你需要写一个 d.ts 文件时才使用这个指令。</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">///&lt;reference types=&quot;node&quot; /&gt;</span>
</code></pre></div><p>注意事项：如果你在配置文件 配置了 noResolve 或者自身调用自身文件会报错</p> <h3 id="声明文件-declare"><a href="#声明文件-declare" class="header-anchor">#</a> 声明文件 declare</h3> <p>当使用第三方库时，我们需要引用它的声明文件，才能获得对应的代码补全、接口提示等功能。如果没有则需要声明</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>declare <span class="token keyword">var</span> 声明全局变量
declare <span class="token keyword">function</span> 声明全局方法
declare <span class="token keyword">class</span> 声明全局类
declare <span class="token keyword">enum</span> 声明全局枚举类型
declare namespace 声明（含有子属性的）全局对象
<span class="token keyword">interface</span> 和 type 声明全局类型
<span class="token comment">/// &lt;reference /&gt; 三斜线指令</span>
</code></pre></div><h3 id="混入-mixin"><a href="#混入-mixin" class="header-anchor">#</a> 混入 Mixin</h3> <ul><li><p>对象混入</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">interface</span> <span class="token class-name">Name</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Age</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">Sex</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">sex</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> <span class="token literal-property property">people1</span><span class="token operator">:</span> Name <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小满'</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">people2</span><span class="token operator">:</span> Age <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span> <span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token literal-property property">people3</span><span class="token operator">:</span> Sex <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span>

<span class="token keyword">const</span> people <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>people1<span class="token punctuation">,</span> people2<span class="token punctuation">,</span> people3<span class="token punctuation">)</span> <span class="token comment">// 拥有三个属性</span>
</code></pre></div></li> <li><p>类的混入</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token keyword">class</span> <span class="token class-name">A</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span>
	<span class="token function">changeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>type
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">B</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'张三'</span>
	<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> string <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">C</span> <span class="token keyword">implements</span> <span class="token class-name">A</span><span class="token punctuation">,</span> <span class="token constant">B</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">type</span><span class="token operator">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string <span class="token operator">=</span> <span class="token string">'fu'</span>
	changeType<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
	getName<span class="token operator">!</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> string
<span class="token punctuation">}</span>

<span class="token function">mixins</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 将A.B的属性方法 放到C上</span>

<span class="token keyword">function</span> <span class="token function">mixins</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">curClass</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">itemClass</span><span class="token operator">:</span> any<span class="token punctuation">[</span><span class="token punctuation">]</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	itemClass<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token comment">// console.log(item) // class A  / class B</span>
		Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token comment">//constructor  changeType  constructor  getName</span>
			curClass<span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> item<span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">C</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token comment">//{ type: false, name: 'fu', changeType: undefined, getName: undefined }</span>
</code></pre></div></li></ul> <h3 id="装饰器-decorator"><a href="#装饰器-decorator" class="header-anchor">#</a> 装饰器 Decorator</h3> <ul><li>类装饰器 ClassDecorator</li> <li>属性装饰器 PropertyDecorator</li> <li>方法装饰器 MethodDecorator</li> <li>参数装饰器 ParameterDecorator</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// ======================= 可以给每个类添加方法或属性  =================</span>
<span class="token keyword">const</span> watcher<span class="token operator">:</span> <span class="token function-variable function">ClassDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***target'</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span> <span class="token comment">//打印***target [class A]</span>
	target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>getName <span class="token operator">=</span> <span class="token operator">&lt;</span><span class="token constant">T</span><span class="token operator">&gt;</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">watcher</span></span> <span class="token comment">// 可以添加方法属性进行装饰</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">watcher</span></span> <span class="token comment">// 可以添加方法属性进行装饰</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">B</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">'A - 666'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token string">'B - 666'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ======================= 修改成高阶函数  =================</span>

<span class="token comment">// 改变成高阶函数 可以支持传递参数</span>
<span class="token keyword">const</span> watcher <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> ClassDecorator <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***target'</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span> <span class="token comment">//打印***target [class A]</span>
		target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> name
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">watcher</span></span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span> <span class="token comment">// 可以添加方法属性进行装饰</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// ======================= 组合式添加多个装饰器  =================</span>
<span class="token keyword">const</span> watcher <span class="token operator">=</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> ClassDecorator <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***target'</span><span class="token punctuation">,</span> target<span class="token punctuation">)</span> <span class="token comment">//打印***target [class A]</span>
		target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> name
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> log<span class="token operator">:</span> <span class="token function-variable function">ClassDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	target<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token string">'log - a'</span>
<span class="token punctuation">}</span>

<span class="token decorator"><span class="token at operator">@</span><span class="token function">log</span></span>
<span class="token decorator"><span class="token at operator">@</span><span class="token function">watcher</span></span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span>a<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>a<span class="token punctuation">)</span>

<span class="token comment">// ======================= 属性装饰器  =================</span>

<span class="token keyword">const</span> log<span class="token operator">:</span> <span class="token function-variable function">PropertyDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***'</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span> <span class="token comment">//[ {}, 'age', undefined ]</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">=</span> <span class="token string">'jack'</span>
	<span class="token decorator"><span class="token at operator">@</span><span class="token function">log</span></span> <span class="token comment">// 放在哪个上面就是哪个</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment">// ======================= 方法装饰器  =================</span>
<span class="token keyword">const</span> log<span class="token operator">:</span> <span class="token function-variable function">PropertyDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***'</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span>

	<span class="token decorator"><span class="token at operator">@</span><span class="token function">log</span></span> <span class="token comment">/* [
					  {},
					  'getAge',
					  {
					    value: [Function: getAge],
					    writable: true,
					    enumerable: false,
					    configurable: true
					  }
					]*/</span>
	<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">18</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span>

<span class="token comment">// ======================= 参数装饰器  =================</span>

<span class="token keyword">const</span> log<span class="token operator">:</span> <span class="token function-variable function">ParameterDecorator</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***'</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">18</span>
	<span class="token comment">/*
打印*** [ {}, 'getAge', 1 ]
打印*** [ {}, 'getAge', 0 ]
*/</span>
	<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token decorator"><span class="token at operator">@</span><span class="token function">log</span></span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token decorator"><span class="token at operator">@</span><span class="token function">log</span></span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">A</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a <span class="token keyword">as</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token string">'2839'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="ts-编写发布订阅"><a href="#ts-编写发布订阅" class="header-anchor">#</a> Ts 编写发布订阅</h3> <p>首先 需要定义三个角色 发布者 订阅者 调度者</p> <p><img src="https://s3-us-west-2.amazonaws.com/secure.notion-static.com/31fa236b-1f0f-4396-bf70-e09642d72ed8/Untitled.png" alt="Untitled"></p> <hr> <ul><li>on 订阅/监听</li> <li>emit 发布/注册</li> <li>once 只执行一次</li> <li>off 解除绑定</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">EventFace</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">on</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> callback<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
	<span class="token function-variable function">emit</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
	<span class="token function-variable function">off</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
	<span class="token function-variable function">once</span><span class="token operator">:</span> <span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">List</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">Function</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Dispatch</span> <span class="token keyword">implements</span> <span class="token class-name">EventFace</span> <span class="token punctuation">{</span>
	list<span class="token operator">:</span> List
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>list <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token function">on</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		callback<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> callback
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	<span class="token function">emit</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> callbackList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>callbackList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			callbackList<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>fn <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
				<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">名称错误</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">off</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">let</span> callbackList <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>list<span class="token punctuation">[</span>name<span class="token punctuation">]</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>fn <span class="token operator">&amp;&amp;</span> callbackList<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">let</span> index <span class="token operator">=</span> callbackList<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span>fns <span class="token operator">=&gt;</span> fns <span class="token operator">===</span> fn<span class="token punctuation">)</span>
			callbackList<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'事件未监听'</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token function">once</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> fn<span class="token operator">:</span> <span class="token builtin">Function</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 临时函数只接受一次 调用后删除</span>
		<span class="token keyword">let</span> <span class="token function-variable function">decor</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token operator">:</span> <span class="token builtin">Array</span><span class="token operator">&lt;</span><span class="token builtin">any</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
			<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> decor<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> decor<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

o<span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span> d <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印**222d'</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

o<span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
o<span class="token punctuation">.</span><span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">'post'</span><span class="token punctuation">,</span> <span class="token string">'666'</span><span class="token punctuation">)</span>

<span class="token comment">// o.once('post', 'once')</span>
</code></pre></div><h3 id="ts-进阶-协变-逆变-双向协变"><a href="#ts-进阶-协变-逆变-双向协变" class="header-anchor">#</a> TS 进阶 协变 逆变 双向协变</h3> <p>鸭子类型</p> <p>什么是鸭子类型？ 一只鸟 走路像鸭子 ，游泳也像，做什么都像，那么这只鸟就可以成为鸭子类型。</p> <ul><li>协变</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 主类型</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 子类型</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	sex<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> a<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'老墨我想吃鱼了'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">33</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> b<span class="token operator">:</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'老墨我不想吃鱼'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">33</span><span class="token punctuation">,</span>
	sex<span class="token operator">:</span> <span class="token string">'女'</span>
<span class="token punctuation">}</span>
<span class="token comment">// 协变</span>
<span class="token comment">//b的类型比a的多 可以赋值</span>
a <span class="token operator">=</span> b
<span class="token comment">//a不可以被b赋值</span>
b <span class="token operator">=</span> a
</code></pre></div><ul><li>逆变</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">// 主类型</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 子类型</span>
<span class="token keyword">interface</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	sex<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">fna</span> <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token constant">A</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">let</span> <span class="token function-variable function">fnb</span> <span class="token operator">=</span> <span class="token punctuation">(</span>params<span class="token operator">:</span> <span class="token constant">B</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 可以 因为最终执行fna 参数不会缺少</span>
fnb <span class="token operator">=</span> fna
</code></pre></div><ul><li>双向协变 &quot;strictFunctionTypes&quot;: true,</li></ul> <div class="language-ts extra-class"><pre class="language-ts"><code>可以将上面的fna <span class="token operator">=</span> fnb 不安全
</code></pre></div><h3 id="ts-进阶用法-partial-pick"><a href="#ts-进阶用法-partial-pick" class="header-anchor">#</a> <strong><em>TS 进阶用法 Partial &amp; Pick</em></strong></h3> <p><strong><em>Partial 可选</em></strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/**
 * Make all properties in T optional
  将T中的所有属性设置为可选
 */</span>
type Partial<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;
</span></code></pre></div><ul><li>keyof 是干什么的？
<ul><li>keyof 我们讲过很多遍了 将一个接口对象的全部属性取出来变成联合类型</li></ul></li> <li>in 是干什么的？
<ul><li>in 我们可以理解成 for in P 就是 key 遍历 keyof T 就是联合类型的每一项</li></ul></li> <li>? 是将该属性变为可选属性
<ul><li>？这个操作就是将每一个属性变成可选项</li></ul></li> <li>T[P] 是干什么的？
<ul><li>T[P] 索引访问操作符，与 JavaScript 种访问属性值的操作类似</li></ul></li></ul> <p><strong>Pick</strong></p> <p>从类型定义 T 的属性中，选取指定一组属性，返回一个新的类型定义</p> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token comment">/**
 * From T, pick a set of properties whose keys are in the union K
 */</span>
<span class="token keyword">type</span> <span class="token class-name">Pick<span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code>type TPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string
	<span class="token literal-property property">age</span><span class="token operator">:</span> number
	<span class="token literal-property property">gender</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>

type Part<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
	<span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">?</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token plain-text">

let p: Part</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TPerson</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'jack'</span>
<span class="token punctuation">}</span><span class="token plain-text">

type Pck&lt;T, K extends keyof T&gt; = </span><span class="token punctuation">{</span>
	<span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token plain-text">

let p1: Pck&lt;TPerson, 'name' | 'age'&gt; = </span><span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">}</span><span class="token plain-text">
</span></code></pre></div><p><strong><em>TS 进阶用法 Record &amp; Readonly</em></strong></p> <p>*<strong><em>Readonly:将所有属性变成只读</em></strong></p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">/**
 * Make all properties in T readonly
 */</span>
type Readonly<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
    readonly <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token plain-text">;
</span></code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code>type Ro<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
	readonly <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> keyof <span class="token constant">T</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">P</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token plain-text">

let p2: Ro</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">TPerson</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = </span><span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'j'</span><span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
	<span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span>
<span class="token punctuation">}</span><span class="token plain-text">
p2.name = 1
</span></code></pre></div><p>Record
做到了约束 对象的 key 同时约束了 value</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code>type Record<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> any<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token number">1</span> keyof any 返回 string number symbol 的联合类型
<span class="token number">2</span> <span class="token keyword">in</span> 我们可以理解成<span class="token keyword">for</span> <span class="token keyword">in</span> <span class="token constant">P</span> 就是key 遍历 keyof any 就是string number symbol类型的每一项
<span class="token number">3</span> <span class="token keyword">extends</span>来约束我们的类型
<span class="token number">4</span> <span class="token constant">T</span> 直接返回类型
</code></pre></div><div class="language-jsx extra-class"><pre class="language-jsx"><code>type TPerson <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> string
	<span class="token literal-property property">age</span><span class="token operator">:</span> number
	<span class="token literal-property property">gender</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token comment">// string | number | symbol</span>
type Recd<span class="token operator">&lt;</span><span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token class-name">keyof</span> any<span class="token punctuation">,</span> <span class="token constant">T</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span><span class="token constant">P</span> <span class="token keyword">in</span> <span class="token constant">K</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token constant">T</span>
<span class="token punctuation">}</span>
type <span class="token constant">K</span> <span class="token operator">=</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span> <span class="token operator">|</span> <span class="token string">'gender'</span>
<span class="token comment">// K 约束Key K 约束value</span>
<span class="token keyword">let</span> <span class="token literal-property property">p2</span><span class="token operator">:</span> Recd<span class="token operator">&lt;</span><span class="token constant">K</span><span class="token punctuation">,</span> TPerson<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'j'</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token literal-property property">gender</span><span class="token operator">:</span> <span class="token string">'男'</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="infer"><a href="#infer" class="header-anchor">#</a> Infer</h3> <p>infer 是<a href="https://so.csdn.net/so/search?q=TypeScript&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">TypeScript<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 新增到的关键字 充当占位符</p> <div class="language-jsx extra-class"><pre class="language-jsx"><code><span class="token comment">// 定义一个类型 如果是数组类型 就返回 数组元素的类型 否则 就传入什么类型 就返回什么类型</span>
<span class="token comment">// 正常写法</span>
type <span class="token constant">TYPE</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ? T[number] : T
type A = TYPE&lt;(string | number)[]&gt;
// infer写法
// 就是将每一项类型进行占位
type TYPE</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infer</span> <span class="token attr-name">U</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ? U : T

// ========================================
// 例子2配合tuple 转换 union 联合类型
type TYPE</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">T</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> = T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>infer</span> <span class="token attr-name">U</span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> ? U : never
type uni = [string, number]
type A = TYPE</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>uni</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

type Arr = ['a', 'b', 'c']

// type First&lt;T extends Array&lt;any&gt;&gt; = T extends [infer one, infer two, infer last] ? one : []
type First&lt;T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&gt; = T extends [infer one, infer two, infer last] ? one : []
type Last&lt;T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&gt; = T extends [...any[], infer last] ? last : []
type Pop&lt;T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&gt; = T extends [...infer Rest, infer last] ? Rest : []
type Shift&lt;T extends Array</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>any</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">&gt; = T extends [infer one, ...infer Rest] ? Rest : []

type A = First</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Arr</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 'a'
type B = Last</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Arr</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // 'c'
type C = Pop</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Arr</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // ['a','b']
type D = Shift</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Arr</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // ['b','c']
// ======================== 数组反转 递归
type Arr = [1, 2, 3, 4]

type Reverse&lt;T extends any[]&gt; = T extends [infer first, ...infer rest] ? [...Reverse</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rest</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">, first] : T

type A = Reverse</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Arr</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text"> // [4,3,2,1]
</span></code></pre></div><p>泛型的知识点</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">const</span> userInfo <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'lin'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token string">'18'</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getValues</span><span class="token punctuation">(</span>userInfo<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> keys<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> userInfo<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***getVlaue'</span><span class="token punctuation">,</span> <span class="token function">getValues</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***getVlaue'</span><span class="token punctuation">,</span> <span class="token function">getValues</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'sex'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//[undefined,'18'] 不报错</span>

<span class="token comment">//  4.  检查动态属性  K是联合类型 name|age  数组中不能定义其他值</span>
<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">getVal</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span><span class="token punctuation">,</span> <span class="token constant">K</span> <span class="token keyword">extends</span> <span class="token keyword">keyof</span> <span class="token constant">T</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>userInfo<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">,</span> keys<span class="token operator">:</span> <span class="token constant">K</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">[</span><span class="token constant">K</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> keys<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>key <span class="token operator">=&gt;</span> userInfo<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***getVal'</span><span class="token punctuation">,</span> <span class="token function">getVal</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***getVal'</span><span class="token punctuation">,</span> <span class="token function">getVal</span><span class="token punctuation">(</span>userInfo<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'sex'</span><span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">//[undefined,'18'] 不报错</span>

<span class="token comment">//    type tx = 'name'|'age'</span>
<span class="token comment">//    const arr:tx[]=['name','age','name','age']</span>

<span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1.keyof（索引查询）  获取所有的键 返回联合类型 变成字符串字面量</span>
<span class="token keyword">type</span> <span class="token class-name">Test</span> <span class="token operator">=</span> <span class="token keyword">keyof</span> IPerson
<span class="token comment">//    console.log('打印***Test',Test)</span>
<span class="token keyword">let</span> a<span class="token operator">:</span> Test <span class="token operator">=</span> <span class="token string">'name'</span>
a <span class="token operator">=</span> <span class="token string">'age'</span>
<span class="token comment">//    2.T[K] 索引访问  定义类型</span>
<span class="token keyword">let</span> type1<span class="token operator">:</span> IPerson<span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">]</span>

<span class="token comment">// 3.extends 约束泛型 T extends U</span>
<span class="token keyword">interface</span> <span class="token class-name">ILength</span> <span class="token punctuation">{</span>
	length<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token generic-function"><span class="token function">printLength</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token keyword">extends</span> ILength<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
	<span class="token keyword">return</span> arg
<span class="token punctuation">}</span>

<span class="token comment">// 5.映射类型 in 用来对联合类型的遍历</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">P</span></span> <span class="token operator">=</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span> <span class="token operator">|</span> <span class="token string">'major'</span>
<span class="token keyword">type</span> <span class="token class-name">Obj</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>x <span class="token keyword">in</span> <span class="token constant">P</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">//=== name:string age:string major:string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj<span class="token operator">:</span> Obj <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
	major<span class="token operator">:</span> <span class="token string">'x'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 6.partial  所有属性映射为可选的</span>
<span class="token keyword">interface</span> <span class="token class-name">Part1</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p1<span class="token operator">:</span> Part1 <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">IPart</span> <span class="token operator">=</span> Partial<span class="token operator">&lt;</span>Part1<span class="token operator">&gt;</span>

<span class="token keyword">let</span> p3<span class="token operator">:</span> IPart <span class="token operator">=</span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token comment">// 简写</span>
<span class="token keyword">let</span> p2<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>Part1<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span>
<span class="token punctuation">}</span>

<span class="token comment">// 底层</span>
<span class="token comment">// type Partial&lt;T&gt; = {</span>
<span class="token comment">//     [p in keyof T]?:T[p]</span>
<span class="token comment">// }</span>

<span class="token comment">// 7.readonly a将所有属性变成只读</span>
<span class="token keyword">type</span> <span class="token class-name">IReadOnly</span> <span class="token operator">=</span> Readonly<span class="token operator">&lt;</span>IPerson<span class="token operator">&gt;</span>

<span class="token keyword">let</span> p4<span class="token operator">:</span> IReadOnly <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'12'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">2</span>
<span class="token punctuation">}</span>
<span class="token comment">// p4.name = '12'</span>

<span class="token comment">// 底层</span>
<span class="token comment">// type Readonly&lt;T&gt; = {</span>
<span class="token comment">//     readonly [p in keyof T]:T[p]</span>
<span class="token comment">// }</span>

<span class="token comment">// 8.Pick 抽取对象子集 成为新的类型</span>

<span class="token keyword">interface</span> <span class="token class-name">PPerson</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	sex<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">type</span> <span class="token class-name">IPick</span> <span class="token operator">=</span> Pick<span class="token operator">&lt;</span>PPerson<span class="token punctuation">,</span> <span class="token string">'name'</span> <span class="token operator">|</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>

<span class="token keyword">let</span> p8<span class="token operator">:</span> IPick <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>

<span class="token comment">// 底层</span>
<span class="token comment">// type Pick&lt;T,K extends keyof T&gt; ={</span>
<span class="token comment">//     [p in K]:T[p]</span>
<span class="token comment">// }</span>

<span class="token comment">// 9. Record 创建同态的类型</span>
<span class="token keyword">type</span> <span class="token class-name">IRecord</span> <span class="token operator">=</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> IPerson<span class="token operator">&gt;</span>

<span class="token keyword">let</span> p9<span class="token operator">:</span> IRecord <span class="token operator">=</span> <span class="token punctuation">{</span>
	a1<span class="token operator">:</span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token string">'a'</span><span class="token punctuation">,</span>
		age<span class="token operator">:</span> <span class="token number">12</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	a2<span class="token operator">:</span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token string">'b'</span><span class="token punctuation">,</span>
		age<span class="token operator">:</span> <span class="token number">1</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 底层</span>
<span class="token comment">// type Record&lt;K extends keyof any,T&gt; = {</span>
<span class="token comment">//     [p in K]: T</span>
<span class="token comment">// }</span>

<span class="token comment">// 10.条件类型 T extends U ? X : Y    Exclude 和 Extract</span>
<span class="token comment">// 11. Exclude&lt;T,U&gt; 返回联合类型T中不包含U的部分</span>
<span class="token keyword">type</span> <span class="token class-name">ETest</span> <span class="token operator">=</span> Exclude<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span> <span class="token operator">|</span> <span class="token string">'c'</span><span class="token punctuation">,</span> <span class="token string">'a'</span><span class="token operator">&gt;</span>

<span class="token keyword">let</span> a11<span class="token operator">:</span> ETest <span class="token operator">=</span> <span class="token string">'b'</span>
<span class="token comment">// type Exclude&lt;T,U&gt; = T extends U ? never:T</span>

<span class="token comment">// 12.Extract Extract&lt;T,U&gt; 提取交集</span>
<span class="token keyword">type</span> <span class="token class-name">EXTest</span> <span class="token operator">=</span> Extract<span class="token operator">&lt;</span><span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'a'</span> <span class="token operator">|</span> <span class="token string">'c'</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> a12<span class="token operator">:</span> EXTest <span class="token operator">=</span> <span class="token string">'a'</span>

<span class="token comment">//  type Extract&lt;T,U&gt; = T extends U ? T:never</span>

<span class="token comment">//12 Required 与partial相反</span>
</code></pre></div><h3 id="工具类型-utility-types"><a href="#工具类型-utility-types" class="header-anchor">#</a> 工具类型 Utility Types</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">interface</span> <span class="token class-name">IPerson</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 1.Omit&lt;T,U&gt; 剔除T 中所有U的属性</span>
<span class="token keyword">type</span> <span class="token class-name">IOmit</span> <span class="token operator">=</span> Omit<span class="token operator">&lt;</span>IPerson<span class="token punctuation">,</span> <span class="token string">'age'</span><span class="token operator">&gt;</span>

<span class="token keyword">let</span> p1<span class="token operator">:</span> IOmit <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'1'</span>
<span class="token punctuation">}</span>
<span class="token comment">//   type Omit&lt;T,K extends keyof any&gt; = {</span>
<span class="token comment">//     Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;</span>
<span class="token comment">// }</span>

<span class="token comment">// 2.NonNullable 过滤类型中null和undefined类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T0</span></span> <span class="token operator">=</span> NonNullable<span class="token operator">&lt;</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">|</span> <span class="token keyword">undefined</span><span class="token operator">&gt;</span>
<span class="token keyword">let</span> a2<span class="token operator">:</span> <span class="token constant">T0</span> <span class="token operator">=</span> <span class="token keyword">null</span>
<span class="token comment">// type NonNullable&lt;T&gt; = T extends null | undefined ? never : T</span>

<span class="token comment">// 3. Parameters 获取函数的参数类型 将每个参数类型放入元组中</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T1</span></span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token comment">// []</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T2</span></span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span>arg<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token comment">// [arg:string]</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">T3</span></span> <span class="token operator">=</span> Parameters<span class="token operator">&lt;</span><span class="token punctuation">(</span>arg1<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> arg2<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token comment">//[arg1:string,arg2:number]</span>

<span class="token keyword">let</span> x1<span class="token operator">:</span> <span class="token constant">T1</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> x2<span class="token operator">:</span> <span class="token constant">T2</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'arg'</span><span class="token punctuation">]</span>
<span class="token keyword">let</span> x3<span class="token operator">:</span> <span class="token constant">T3</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'arg1'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">]</span>

<span class="token comment">// 4. ReturnType 获取函数的返回值类型</span>
<span class="token keyword">type</span> <span class="token class-name"><span class="token constant">F0</span></span> <span class="token operator">=</span> ReturnType<span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token comment">//string</span>

<span class="token comment">// 类型体操</span>

<span class="token comment">// 1文件声明 declare 相当于先声明 其他地方存在直接用</span>

<span class="token comment">// 2 .d.ts 声明文件</span>
<span class="token keyword">declare</span> <span class="token keyword">var</span> val1<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token keyword">declare</span> <span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token keyword">declare</span> <span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token keyword">private</span> age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
	<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token comment">// 使用</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> name
	<span class="token keyword">private</span> age
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> age<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
	<span class="token punctuation">}</span>
	<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'jack'</span><span class="token punctuation">,</span> <span class="token number">23</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***p.name'</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***p.age'</span><span class="token punctuation">,</span> p<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token comment">// 3 namespace?</span>
<span class="token keyword">declare</span> <span class="token keyword">namespace</span> $ <span class="token punctuation">{</span>
	<span class="token keyword">let</span> version<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token keyword">function</span> <span class="token function">ajax</span><span class="token punctuation">(</span>set<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
$<span class="token punctuation">.</span>version <span class="token operator">=</span> <span class="token number">123</span>
</code></pre></div><h3 id="接口-interface"><a href="#接口-interface" class="header-anchor">#</a> 接口 interface</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 描述一个对象的类型 不能重复声明</span>
<span class="token keyword">type</span> <span class="token class-name">myType</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> obj<span class="token operator">:</span> myType <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
	x<span class="token operator">:</span> <span class="token number">12</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 接口用来定义一个类结构  用来定义类中包含哪些属性方法   限制类的结构
 * 接口也可以当作类型声明使用
 * 可以重复声明  相当于合并
 */</span>
<span class="token keyword">interface</span> <span class="token class-name">myInterface</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">interface</span> <span class="token class-name">myInterface</span> <span class="token punctuation">{</span>
	gender<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> obj1<span class="token operator">:</span> myInterface <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">'xxx'</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
	gender<span class="token operator">:</span> <span class="token string">'nan'</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * 定义类时 可以使用类实现一个接口
 *
 */</span>
<span class="token keyword">interface</span> <span class="token class-name">myInter</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token keyword">implements</span> <span class="token class-name">myInter</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
	<span class="token function">sayHello</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//接口可以实现类型的含义</span>
</code></pre></div><div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">//接口约定class</span>
<span class="token keyword">interface</span> <span class="token class-name">Music</span> <span class="token punctuation">{</span>
	<span class="token function">playMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>

<span class="token comment">// 都有Music功能</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token keyword">implements</span> <span class="token class-name">Music</span> <span class="token punctuation">{</span>
	<span class="token function">playMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">CellPhone</span> <span class="token keyword">implements</span> <span class="token class-name">Music</span> <span class="token punctuation">{</span>
	<span class="token function">playMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 约束静态函数 和构造函数</span>
<span class="token keyword">interface</span> <span class="token class-name">CircleStatic</span> <span class="token punctuation">{</span>
	<span class="token keyword">new</span> <span class="token punctuation">(</span>radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
	pi<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> Circle<span class="token operator">:</span> CircleStatic <span class="token operator">=</span> <span class="token keyword">class</span> <span class="token class-name">Circle</span> <span class="token punctuation">{</span>
	<span class="token keyword">static</span> pi<span class="token operator">:</span> <span class="token number">3.14</span>
	<span class="token keyword">public</span> radius<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token keyword">public</span> <span class="token function">constructor</span><span class="token punctuation">(</span>radius<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>radius <span class="token operator">=</span> radius
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="属性的封装"><a href="#属性的封装" class="header-anchor">#</a> 属性的封装</h3> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">// 属性封装</span>
<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
	<span class="token comment">/**
	 * 属性修饰符 public 公共 可以在任意位置修改
	 * private  私有属性 只能在类的内部进行修改  子类也不能读取
	 * protected  只能在当前类和子类中使用
	 */</span>
	<span class="token keyword">private</span> _name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token keyword">private</span> _age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> name
		<span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> age
	<span class="token punctuation">}</span>
	<span class="token comment">// 获取内部_name的属性  可以间接的通过方法获取</span>
	<span class="token comment">// 通过这种方式 属性的读写 可控</span>
	<span class="token comment">/**
	 *
	 * getter setter 存取器
	 */</span>
	<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
	<span class="token punctuation">}</span>
	<span class="token function">setName</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> value
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	 * ts中提供便利方法
	 * per.name 会读取name的属性 会自动调用
	 *
	 */</span>
	<span class="token keyword">get</span> <span class="token function">name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'get name调用了'</span><span class="token punctuation">)</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_name
	<span class="token punctuation">}</span>
	<span class="token keyword">set</span> <span class="token function">name</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>_name <span class="token operator">=</span> value
	<span class="token punctuation">}</span>

	<span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_age
	<span class="token punctuation">}</span>
	<span class="token function">setAge</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>_age <span class="token operator">=</span> value
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> per <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per<span class="token punctuation">)</span>
<span class="token comment">// per._name='999'</span>
<span class="token comment">// console.log(per._name);</span>

<span class="token comment">// per._age=98</span>
<span class="token comment">// console.log(per._age);</span>

<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
per<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'孙悟空'</span><span class="token punctuation">)</span>
<span class="token comment">// console.log(per._name);</span>
per<span class="token punctuation">.</span><span class="token function">setAge</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per<span class="token punctuation">.</span><span class="token function">getAge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>per<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
per<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'猪八戒'</span>

<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	<span class="token comment">//如果设置成private 子类不能读取</span>
	<span class="token keyword">protected</span> name<span class="token operator">:</span> <span class="token builtin">string</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">B</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token punctuation">{</span>
	<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
	<span class="token punctuation">}</span>
	<span class="token function">setName</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> value
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">B</span></span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
b<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">'fu'</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">/**
 * 简化方式
 */</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">C</span></span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token builtin">string</span>
	age<span class="token operator">:</span> <span class="token builtin">number</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
		<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">class</span> <span class="token class-name"><span class="token constant">D</span></span> <span class="token punctuation">{</span>
	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token keyword">public</span> name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token keyword">public</span> age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token constant">D</span></span><span class="token punctuation">(</span><span class="token string">'fu'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span>
</code></pre></div><p>never 定义 如何定义所有字符串类型中 一个是 string 的</p> <p>类型缩减</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token keyword">type</span> <span class="token class-name"><span class="token constant">A</span></span> <span class="token operator">=</span>
	<span class="token operator">|</span> <span class="token punctuation">{</span> age<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span>
	<span class="token operator">|</span> <span class="token punctuation">{</span>
			<span class="token comment">// age: never</span>
			<span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
	  <span class="token punctuation">}</span>

<span class="token keyword">let</span> obj<span class="token operator">:</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
	age<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	ff<span class="token operator">:</span> <span class="token string">'nasfdio'</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">//返回值</span>
<span class="token keyword">function</span> <span class="token function">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">1</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token string">'a'</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// 默认返回空</span>
<span class="token keyword">function</span> <span class="token function">func1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span>
	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token comment">// 什么都不返回 只报错</span>
<span class="token keyword">function</span> <span class="token function">func2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">never</span> <span class="token punctuation">{</span>
	<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'报错了'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="_4-面向对象"><a href="#_4-面向对象" class="header-anchor">#</a> 4.面向对象</h2> <p>接口定义的方式</p> <div class="language-tsx extra-class"><pre class="language-tsx"><code><span class="token comment">//四不像duck typing</span>
<span class="token keyword">interface</span> <span class="token class-name">FuncWithProps</span> <span class="token punctuation">{</span>
	<span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span>
	foName<span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> fun<span class="token operator">:</span> FuncWithProps <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> x
<span class="token punctuation">}</span>
fun<span class="token punctuation">.</span>foName <span class="token operator">=</span> <span class="token string">'123'</span>

<span class="token comment">//类数组</span>
<span class="token keyword">interface</span> <span class="token class-name">likeArray</span> <span class="token punctuation">{</span>
	<span class="token punctuation">[</span>propName<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> arr<span class="token operator">:</span> likeArray <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'123'</span><span class="token punctuation">,</span> <span class="token string">'213123'</span><span class="token punctuation">,</span> <span class="token string">'3123'</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">12</span><span class="token punctuation">)</span>
<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'打印***arr'</span><span class="token punctuation">,</span> arr<span class="token punctuation">)</span>
</code></pre></div><h2 id="高级类型一"><a href="#高级类型一" class="header-anchor">#</a> 高级类型一</h2> <h3 id="type-和-interface-的区别"><a href="#type-和-interface-的区别" class="header-anchor">#</a> type 和 interface 的区别</h3> <div class="language-ts extra-class"><pre class="language-ts"><code><span class="token operator">*</span> 相同点
 <span class="token operator">*</span>      都可以定义一个对象或函数
 <span class="token operator">*</span>      都允许继承
 <span class="token operator">*</span> 不同点
 <span class="token operator">*</span>      接口是对对象描述
 <span class="token operator">*</span>      <span class="token keyword">type</span>是类型别名可以给各种类型定义
 <span class="token operator">*</span>      <span class="token keyword">type</span>可以声明基本类型 联合类型 交叉类型 元组 接口不可以
 <span class="token operator">*</span>      <span class="token keyword">interface</span>可以重复声明 <span class="token keyword">type</span>不行
 <span class="token operator">*</span><span class="token operator">/</span>

<span class="token keyword">interface</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> per<span class="token operator">:</span>Person <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'1'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">12</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">Persont</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token builtin">string</span>
    age<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> per2<span class="token operator">:</span>Persont <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'tt'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">22</span>
<span class="token punctuation">}</span>

<span class="token comment">//定义函数</span>
<span class="token keyword">interface</span> <span class="token class-name">addI</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> <span class="token class-name">addT</span> <span class="token operator">=</span> <span class="token punctuation">(</span>x<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">,</span>y<span class="token operator">:</span><span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token builtin">number</span>

<span class="token comment">// 继承</span>
<span class="token comment">// type inherit type</span>
<span class="token keyword">type</span> <span class="token class-name">Studentt</span> <span class="token operator">=</span> Persont <span class="token operator">&amp;</span> <span class="token punctuation">{</span> grader<span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token comment">// interface inherit Type</span>
<span class="token keyword">interface</span> <span class="token class-name">StudentI</span> <span class="token keyword">extends</span> <span class="token class-name">Persont</span> <span class="token punctuation">{</span>
    grader<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token comment">// type inherit interface</span>
<span class="token keyword">type</span> <span class="token class-name">stt</span> <span class="token operator">=</span> Person <span class="token operator">&amp;</span> <span class="token punctuation">{</span> grader<span class="token operator">:</span><span class="token builtin">number</span> <span class="token punctuation">}</span>

<span class="token comment">// interface inherit interface</span>
<span class="token keyword">interface</span> <span class="token class-name">siI</span> <span class="token keyword">extends</span> <span class="token class-name">Person</span><span class="token punctuation">{</span>
    grader<span class="token operator">:</span><span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> s2<span class="token operator">:</span>siI<span class="token operator">=</span><span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">'123'</span><span class="token punctuation">,</span>
    age<span class="token operator">:</span><span class="token number">12</span><span class="token punctuation">,</span>
    grader<span class="token operator">:</span><span class="token number">12</span>
<span class="token punctuation">}</span>
</code></pre></div><p>应用 ：使用枚举作为对象的键</p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/14/2023, 5:55:49 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/base/js/es6.html" class="prev">
        ES6
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.43a96342.js" defer></script><script src="/assets/js/2.caec08f3.js" defer></script><script src="/assets/js/21.a0c52622.js" defer></script>
  </body>
</html>
