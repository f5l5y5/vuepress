## 移动端开发知识

## 1.屏幕相关
### 1.1 屏幕大小
一般生活中说手机多少寸，都是手机屏幕对角线的长度，单位：英寸(inch)，1英寸=2.54厘米。常见的手机屏幕大小 3.5、4、4.7、5.0、5.5、6.0等。[常见手机屏幕查看网址](http://screensiz.es/)[中国屏幕网站](https://uiiiuiii.com/screen/)
### 1.2 屏幕分辨率
横纵向上的像素点（物理像素）数（个数），1px=1个像素点，也称物理像素，例如iphone6的屏幕分辨率为：750*1334
- 注意
  1. **屏幕分辨率是一个固定值，生产出来就固定了**，无论手机屏幕还是电脑屏幕。
  2. 屏幕分辨率与显示分辨率不同。计算机可以修改显示分辨率，信号传递给屏幕，屏幕会进行计算，在屏幕上显示。屏幕分辨率>=显示分辨率
  3. 1080P 的分辨率是1920x1080
  4. 2K 屏幕是单一方向分辨率具有约 2000 像素的显示设备。最标准的 2K 分辨率为 2048×1024

iphone6是2014.9.9 前端发展元年，为移动端打造单独的网页，都以iphone6出图
### 1.3 屏幕像素密度(ppi=pixels per inch)
每英寸所拥有的物理像素数量，决定了手机清晰度。单位ppi <br>
ppi= x^2+y^2 开根号除以屏幕尺寸

## 2 像素相关
### 2.1 物理像素
物理像素对应显示设备中一个微小的物理部件。单位px 长度单位
### 2.2 css像素
抽象长度单位(px)，开发最小单位
- web开发的最小单位，一个CSS像素在移动设备上最终会转成物理像素去呈像
- 一个CSS像素占用多少个物理像素，取决于【设备特性】、【用户缩放行为】
2010年之前，就是1:1的关系

### 2.3 设备独立像素
设备独立像素，简称 DIP（device-independent pixel）,又称为设备无关像素，是一个长度计量单位。
设备独立像素也是手机屏幕的一个参数，由手机制造商决定。
1 个设备独立像素可以认为是计算机坐标系统中的一个点，代表可以通过程序控制使用的虚拟像素。
- 普通屏幕下 1 设备独立像素 等于 1 物理像素
- 高清屏幕下 1 设备独立像素 等于 N 物理像素
<br> 
高清屏， 2010年苹果公司推出新的显示标准，在屏幕尺寸不变的前提下，将更多的物理像素点压缩至一块屏幕，称retina屏幕->视网膜屏幕。发布了iphone4。
+ 思考：
  + 如果在开发中写一个width:2px height:2px ,如果一个css像素对应一个物理像素，i3和i4相同的屏幕但i4有更多的物理像素，但i4更清晰。如何做到，靠的是设备独立像素
    <img :src="$withBase('/project/h5/设备独立像素.png')" alt="">
**设备独立像素的出现，使得在高清屏下，也可以让元素有正常的尺寸，让代码不受设备的影响，它是根据设备厂商根据屏幕特性设置的，无法更改。**<br>
像素处理:  css像素设置为2x2 ->独立设备像素为320x480 -> 物理像素320x750 -> 引起一个2x2个物理像素点亮<br>
像素处理: css像素设置为2x2 ->独立设备像素为320x480 -> 物理像素640x960 -> 引起一个4x4个物理像素点亮

:::tip
1. 设备独立像素对于css像素？
   1.  在无缩放(标准情况下) 1css像素 = 1独立设备像素
2. css像素对应多少物理像素？不考虑缩放情况
   1. 高清屏(dpr=1):1pxcss像素 = 1px设备独立像素 = 1px物理像素
   2. 高清屏(dpr=2):1css像素 = 1设备独立像素 = 2物理像素
   3. 高清屏(dpr=3):1css像素 = 1设备独立像素 = 3物理像素
程序猿写了width：200px 不进行缩放 dpr为2
:::
### 2.4 像素比(dpr)
+ 【单方向】占满屏幕物理像素个数/ 占满屏幕设备独立像素个数 = devicePixelRatio
+ 获取像素比：window.devicePixelRatio
+ iPhone6 物理像素（分辨率）是750，设备独立像素是375，dpr=2

    <img :src="$withBase('/project/h5/dpr.png')" alt="">
### 2.4 位图和矢量图
- 位图图像是由称作像素（图片元素）的单个点组成的。放大后会失真。常见有png,jpg,jpeg,gif
- 矢量图，也称为面向对象的图像或绘图图像，在数学上定义为一系列由线连接的点。放大后不会失真。svg有兼容性问题
- 软件有Adobe Illustrator，Sketch
:::tip
    1个位图像素对应于1个物理像素，图片才能得到完美清晰的展示 <br>
    说明:位图像素是设计师设计图片的最小单位
    AI Sketch 设计位图
:::

## 总结
对于web开发者开说
1. 我们使用的是css像素，不在意一个css像素到底跨越了多少个物理像素。我们将这个依赖于屏幕特性和用户缩放程度的复杂计算交给了浏览器。
2. 物理像素是设备呈像的最小单元
3. css像素是一个抽象的层，是web开发中的最小单元
4. 位图像素是图片的最小单元。
5. 设备独立像素也是-一个抽象的层，是设备提供出来的接口
6. 像素比：物理像素/设备独立像素
   1. 一个方向上占据一块屏幕所需要的物理像素的个数 / 一个方向上占据一块屏幕所需要的设备独立像素的个数

  由于物理像素，设备独立像素，像素比都是设备中的概念与浏览器没有一点关系，在设备出厂时这些参数就定了。所以在默认情况下，设备独立像素和像素比在web开发中毫无意义，因为默认情况下，设备独立像素，像素比跟浏览器没有关系，都是设备的东西。
## 3.视口
- 在 PC 端，视口指的是浏览器的可视区域。其宽度和浏览器窗口的宽度保持一致。在 CSS 标准文档中，视口也被称为初始包含块，它是所有 CSS 百分比宽度推算的根源。
- 移动端的视口与 PC 端不同，有三个视口
  - 布局视口
  - 视觉视口
  - 理想视口
### 3.1 布局视口 (layout viewport)
- 布局视口是用来放置网页内容的区域。
- 一般移动设备的浏览器都默认定义一个虚拟的布局视口（layout viewport），用于解决早期的页面在手机上显示的问题。 视口大小由浏览器厂商决定，大多数设备的布局视口大小为 980px。
- 获取大小
  ```js
    document.documentElement.clientWidth 
    document.documentElement.clientHeight
  ```

### 3.2 视觉视口 (visual layout)
- 视觉视口就是用户可见的区域。
- 获取大小
  ```js
    window.innerWidth
    window.innerHeight
  ```
- **不缩放的情况下，视觉视口宽度 === 布局视口宽度**
### 3.3 理想视口 (ideal layout)
- 宽度与屏幕同宽的布局视口称为理想视口。 理想视口的好处
  - 用户不需要缩放和滚动条就能看到网站的全部内容
  - 针对移动端的设计稿更容易开发
- **注意：理想视口不是真实存在的视口 980**
- 设置理想视口的方法
  ```js
  // 
  <meta name="viewport" content="width=device-width" />
  // 不缩放
  <meta name="viewport" content="initial-scale=1.0" />
  // 合体
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  ```